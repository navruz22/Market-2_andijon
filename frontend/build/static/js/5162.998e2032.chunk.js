"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5162],{2543:function(i,e,t){t.d(e,{Z:function(){return a}});t(2791);var n=t.p+"static/media/Excel.3a5a1731280185e0e4ae99ee0a4eebfc.svg",l=t(3168),r=t(184);var a=function(i){var e=i.onClick,t=(0,l.$)(["common"]).t;return(0,r.jsxs)("button",{className:"exportButton",onClick:e,children:[t("Eksport"),(0,r.jsx)("span",{className:"btn-icon bg-white-900 p-[8px]",children:(0,r.jsx)("img",{src:n,alt:"excel icon"})})]})}},5162:function(i,e,t){t.r(e);var n=t(9439),l=t(8825),r=t(763),a=t(2791),o=t(9434),c=t(7584),u=t(2543),d=t(8309),s=t(4339),m=t(2106),v=t(5657),p=t(184);e.default=function(){var i=(0,o.I0)(),e=(0,o.v9)((function(i){return i.currency})).currencyType,t=(0,o.v9)((function(i){return i.productReport})).minimumproducts,f=(0,a.useState)([]),h=(0,n.Z)(f,2),g=h[0],x=h[1],S=(0,a.useState)([]),j=(0,n.Z)(S,2),y=j[0],k=j[1],b=(0,a.useState)([]),Z=(0,n.Z)(b,2),N=Z[0],U=Z[1],z=(0,a.useState)({filter:"",sort:"",count:0}),w=(0,n.Z)(z,2),K=w[0],q=w[1],C=[{title:(0,l.t)("\u2116")},{filter:"productdata.barcode",title:(0,l.t)("Shtrix kodi")},{title:(0,l.t)("Kategoriyasi"),filter:(0,l.t)("category.code")},{title:(0,l.t)("Kodi"),filter:"productdata.code"},{title:(0,l.t)("Nomi"),filter:"productdata.name"},{title:(0,l.t)("Soni"),filter:"total"},{title:(0,l.t)("Olish"),filter:"UZS"===e?"price.incomingpriceuzs":"price.incomingprice"},{title:(0,l.t)("Sotish"),filter:"UZS"===e?"price.sellingpriceuzs":"price.sellingprice"},{title:"Optom",filter:"UZS"===e?"price.tradeprice":"price.tradepriceuzs"},{title:"Minimum qiymat",filter:"minimumcount",styles:"w-[5%]"}];return(0,a.useEffect)((function(){i((0,v.Qv)())}),[i]),(0,a.useEffect)((function(){k(t),x(t);var i=[];t.forEach((function(e){var t=e.category,n={label:t.code+" - "+t.name,value:t._id};i.length>0&&i.some((function(i){return i.value===t._id}))||i.push(n)})),U([{label:"Hammasi",value:"all"}].concat(i))}),[t]),t.length>0?(0,p.jsxs)("div",{className:"pt-[1rem]",children:[(0,p.jsx)("div",{className:"flex items-center justify-center mainPadding",children:(0,p.jsx)("p",{className:"product_name text-center",children:"Kam qolgan mahsulotlar"})}),g.length&&(0,p.jsx)("div",{className:"mainPadding",children:(0,p.jsx)(u.Z,{onClick:function(){var i=[(0,l.t)("\u2116"),(0,l.t)("Shtrix kodi"),(0,l.t)("Mahsulot kategoriyasi"),(0,l.t)("Mahsulot kodi"),(0,l.t)("Mahsulot nomi"),(0,l.t)("Soni"),(0,l.t)("O'lchov birligi"),(0,l.t)("Kelish narxi USD"),(0,l.t)("Kelish narxi UZS"),(0,l.t)("Sotish narxi USD"),(0,l.t)("Sotish narxi UZS"),"Optom narxi USD","Optom narxi UZS","Minimum qiymat"];if((null===t||void 0===t?void 0:t.length)>0){var e=(0,r.map)(t,(function(i,e){var t,n,l,r,a,o,c,u,d,s,m;return{nth:e+1,barcode:(null===i||void 0===i||null===(t=i.productdata)||void 0===t?void 0:t.barcode)||"",category:(null===i||void 0===i||null===(n=i.category)||void 0===n?void 0:n.code)||"",code:(null===i||void 0===i||null===(l=i.productdata)||void 0===l?void 0:l.code)||"",name:(null===i||void 0===i||null===(r=i.productdata)||void 0===r?void 0:r.name)||"",total:(null===i||void 0===i?void 0:i.total)||"",unit:(null===i||void 0===i||null===(a=i.unit)||void 0===a?void 0:a.name)||"",incomingprice:(null===i||void 0===i||null===(o=i.price)||void 0===o?void 0:o.incomingprice)||"",incomingpriceuzs:(null===i||void 0===i||null===(c=i.price)||void 0===c?void 0:c.incomingpriceuzs)||"",sellingprice:(null===i||void 0===i||null===(u=i.price)||void 0===u?void 0:u.sellingprice)||"",sellingpriceuzs:(null===i||void 0===i||null===(d=i.price)||void 0===d?void 0:d.sellingpriceuzs)||"",tradeprice:(null===i||void 0===i||null===(s=i.price)||void 0===s?void 0:s.tradeprice)||"",tradepriceuzs:(null===i||void 0===i||null===(m=i.price)||void 0===m?void 0:m.tradepriceuzs)||"",minimumcount:(null===i||void 0===i?void 0:i.minimumcount)||""}}));(0,c.rD)(e,"Kam qolgan mahsulotlar",i)}else(0,m.Ug)("Jadvalda ma'lumot mavjud emas !","warning")}})}),(0,p.jsx)("div",{className:"flex justify-between items-center mainPadding",children:(0,p.jsx)("div",{className:"max-w-[300px]",children:(0,p.jsx)(d.Z,{placeholder:"Kategoriya",options:N,onSelect:function(i){if("all"===i.value)x(t),k(t);else{var e=t.filter((function(e){return e.category._id===i.value}));k(e),x(e)}}})})}),g.length>0&&(0,p.jsx)("div",{className:"mainPadding",children:(0,p.jsx)(s.Z,{currencyType:e,headers:C,page:"product",data:g,Sort:function(i){if(i===K.filter)switch(K.count){case 1:q({filter:i,sort:"1",count:2}),(0,c.ki)(g,x,i,1,y);break;case 2:q({filter:i,sort:"",count:0}),(0,c.ki)(g,x,i,"",y);break;default:q({filter:i,sort:"-1",count:1}),(0,c.ki)(g,x,i,-1,y)}else q({filter:i,sort:"-1",count:1}),(0,c.ki)(g,x,i,-1,y)},sortItem:K,currency:e,productminimumpage:!0})})]}):(0,p.jsx)("div",{className:"flex items-center justify-center pt-[2rem]",children:(0,p.jsx)("p",{className:"product_name text-center",children:"Kam qolgan mahsulotlar mavjud emas..."})})}}}]);
//# sourceMappingURL=5162.998e2032.chunk.js.map