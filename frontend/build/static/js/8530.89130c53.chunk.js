"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8530],{7667:function(e,t,n){n(2791);var a=n(1087),s=n(71),l=n(184);t.Z=function(e){var t=e.link;return(0,l.jsx)(a.rU,{to:t,className:"linktoback",children:(0,l.jsx)(s.dUf,{})})}},5692:function(e,t,n){n.d(t,{Z:function(){return S}});var a=n(71),s=(n(2791),n(184)),l=function(e){var t=e.onClick,n=e.text,l=e.type,i=e.active,r={cash:(0,s.jsx)(a.OR0,{className:"paymentsstyle",size:"1.3125rem"}),card:(0,s.jsx)(a.RjO,{className:"paymentsstyle",size:"1.3125rem"}),transfer:(0,s.jsx)(a.g2P,{className:"paymentsstyle",size:"1.3125rem"}),mixed:(0,s.jsx)(a.qTT,{className:"paymentsstyle",size:"1.3125rem"})};return(0,s.jsxs)("button",{onClick:function(){return t(l)},className:"salestyle ".concat(i?"bg-primary-700 text-white-900":"bg-[#E9ECEB]"),children:[r[l],n]})},i=function(e){var t=e.onClick,n=e.text,l=e.onDoubleClick;return(0,s.jsxs)("button",{onClick:t,onDoubleClick:l,className:"paymentstyle grow",children:[(0,s.jsx)(a.Q84,{className:"paystyle",size:"1.3125rem"}),n]})},r=n(9434),o=n(7146),c=n(1413),u=n(1188),d=function(e){return(0,s.jsx)(u.c.DropdownIndicator,(0,c.Z)((0,c.Z)({},e),{},{children:(0,s.jsx)(a.lmx,{size:"0.625rem"})}))},m={control:function(e){return(0,c.Z)((0,c.Z)({},e),{},{borderTopRightRadius:".125rem",borderBottomRightRadius:".125rem",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",fontSize:"0.75rem",fontWeight:"400",padding:"0.375rem 0.3125rem",color:"#071F45",outline:"none",border:"none",boxShadow:"none",cursor:"pointer",height:"100%",backgroundColor:"#F79009",minHeight:"100%","&:hover":{backgroundColor:"#DC6803"}})},container:function(e){return(0,c.Z)((0,c.Z)({},e),{},{height:"100%",position:"absolute",right:0,width:"3rem",top:0,bottom:0})},option:function(e,t){var n=t.isFocused,a=t.isSelected;return(0,c.Z)((0,c.Z)({},e),{},{fontSize:".75rem",fontWeight:"400",color:a||n?"#ffffff":"#071F45",backgroundColor:a?"#0090A3":n?"#00B4CC":"#ffffff",transition:"all 0.2s ease",overflow:"hidden",cursor:"pointer",textAlign:"center"})},menu:function(e){return(0,c.Z)((0,c.Z)({},e),{},{overflow:"hidden"})},singleValue:function(e){return(0,c.Z)((0,c.Z)({},e),{},{fontSize:".75rem",fontWeight:"400",color:"#ffffff",margin:0,textAlign:"center"})},valueContainer:function(e){return(0,c.Z)((0,c.Z)({},e),{},{padding:0})},indicatorsContainer:function(e){return(0,c.Z)({},e)},dropdownIndicator:function(e){return(0,c.Z)((0,c.Z)({},e),{},{padding:0,color:"#ffffff"})}};var f=function(e){var t=e.value,n=e.onChange,a=e.option,l=e.onSelect,i=(0,r.v9)((function(e){return e.currency})).currencyType,c=[{value:i,label:i},{value:"%",label:"%"}];return(0,s.jsxs)("div",{className:"flex w-[11.75rem] border border-warning-500 rounded-[0.25rem] outline outline-transparent outline-0 focus-within:outline-2 focus-within:outline-warning-500 transition-all ease-in-out duration-100 relative",children:[(0,s.jsx)("input",{className:"w-[8.6875rem] placeholder-blue-200 py-[0.3125rem] px-[.3125rem] rounded-l-[0.25rem] outline-0 text-sm text-right transition-all ease-in-out duration-100",placeholder:"misol: 100 000 000",type:"number",value:t,onChange:function(e){n(e.target.value)},onWheel:function(e){return e.target.blur()},min:0}),"/>",(0,s.jsx)(o.ZP,{onChange:l,styles:m,isSearchable:!1,value:a,options:c,components:{IndicatorSeparator:function(){return null},DropdownIndicator:d}})]})},h=function(e){var t=e.value,n=e.onChange,a=e.option,l=e.onSelect;return(0,s.jsxs)("div",{className:"flex justify-between w-full items-center mb-[1rem]",children:[(0,s.jsx)("div",{className:"text-black-700 text-[0.875rem]",children:"Chegirma :"}),(0,s.jsx)(f,{onChange:n,onSelect:l,value:t,option:a})]})},x=n(4952),b=function(e){var t=e.onClick;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{onClick:t,className:"exitbtn",children:(0,s.jsx)(a.Lp2,{size:"0.75rem"})})})};var p=function(e){var t=e.mix,n=e.value,a=e.onChange,l=e.label,i=e.onClose,r=e.keyInput,o=e.placeholder,c=e.type;return(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[l," :"]}),(0,s.jsxs)("div",{className:"flex items-center w-[11.75rem] gap-[0.625rem]",children:[(0,s.jsx)(x.Z,{placeholder:o||"misol: 100 000 000",type:c||"number",value:n,onChange:function(e){a(e.target.value,r)}}),t&&(0,s.jsx)(b,{onClick:function(){return i(r)}})]})]})},y=n(8825),v=n(7689),j=n(2932),g=n(7584);var S=function(e){var t=e.returned,n=e.active,o=e.togglePaymentModal,c=e.type,u=void 0===c?"cash":c,d=e.cash,m=void 0===d?"":d,f=e.card,x=void 0===f?"":f,b=e.transfer,S=void 0===b?"":b,N=e.discount,k=e.hasDiscount,Z=e.debt,D=e.allPayment,C=e.allPaymentUzs,w=e.paid,z=void 0===w?0:w,U=e.client,P=void 0===U?"":U,I=e.onChange,T=e.onClose,R=e.changePaymentType,L=e.discountSelectOption,M=(e.handleClickDiscountBtn,e.handleChangeDiscountSelectOption),O=e.handleChangeDiscount,Y=(e.exchangerate,e.handleClickPay),q=e.saleComment,B=e.changeComment,E=e.onDoubleClick,A=e.paymentUsd,Q=void 0===A?"":A,H=e.debtuzs,F=e.debtType,J=e.setDebtType,W=(0,v.TH)(),X=function(){switch(u){case"card":return(0,s.jsx)(p,{value:x,keyInput:u,onChange:I,onClose:T,label:(0,y.t)("Plastik")},"sale-card1");case"transfer":return(0,s.jsx)(p,{value:S,keyInput:u,onChange:I,onClose:T,label:(0,y.t)("O`tkazma")},"sale-transfer");case"mixed":return[{label:(0,y.t)("Naqd"),key:"cash",value:m},{label:(0,y.t)("Plastik"),key:"card",value:x},{label:(0,y.t)("O`tkazma"),key:"transfer",value:S}].map((function(e){return(0,s.jsx)(p,{value:e.value,keyInput:e.key,onChange:I,onClose:T,label:(0,y.t)(e.label)},"sale-".concat(e.key))}));default:return W.pathname.includes("/kassa/debts")?"sum"===F?(0,s.jsx)(p,{value:m,onChange:I,keyInput:u,onClose:T,label:(0,y.t)("Naqd")},"sale-cash"):(0,s.jsx)(p,{value:Q,onChange:I,keyInput:"usd",onClose:T,label:(0,y.t)("USD")},"sale-usd"):(0,s.jsxs)(s.Fragment,{children:["mixed"!==u&&(0,s.jsx)(p,{value:Q,onChange:I,keyInput:"usd",onClose:T,label:(0,y.t)("USD")},"sale-usd"),(0,s.jsx)(p,{value:m,onChange:I,keyInput:u,onClose:T,label:(0,y.t)("Naqd")},"sale-cash")]})}},_=(0,r.v9)((function(e){return e.currency})).currencyType;return(0,s.jsxs)("section",{className:"absolute transition-all left-0 top-0 right-0 bottom-0 overflow-hidden duration-200 ease-out bg-black-300 backdrop-blur-[3px] z-20 ".concat(n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:o,children:[(0,s.jsx)("h3",{className:"text-white-900 text-lg leading-[1.875rem absolute top-[50%] left-[35%] -translate-x-[50%]",children:(0,y.t)("Oynani yopish uchun bu yerga bosing !")}),(0,s.jsxs)("div",{className:"customerPay-head-style transition-all duration-200 ease-linear h-full overflow-auto absolute top-0 bottom-0 right-0 ".concat(n?"translate-x-0":"translate-x-full"),onClick:function(e){return e.stopPropagation()},autoFocus:!0,children:[(0,s.jsxs)("div",{className:"top-payment w-full",children:[P&&(0,s.jsxs)("div",{className:"customer-head-icon",children:[(0,s.jsxs)("div",{className:"flex items-center custom-payment-text-style",children:[(0,s.jsx)(a.J4e,{className:"mr-[0.75rem]"}),(0,s.jsxs)("span",{children:[(0,y.t)("Mijoz")," : "]})]}),(0,s.jsx)("h3",{className:"text-[0.875rem]",children:P})]}),(0,s.jsx)("div",{className:"mb-[1.25rem] font-medium text-[1.25rem] text-center leading-[23.44px]",children:W.pathname.includes("/kassa/debts")&&"dollar"===F?D+" USD":C+" UZS"}),(0,s.jsxs)("ul",{className:"w-full pb-[1.25rem]",children:[!t&&X(),(W.pathname.includes("/kassa/debts")||W.pathname.includes("/qarzdorlar")||W.pathname.includes("/maxsulotlar/qabul/qabulqilish")||W.pathname.includes("/maxsulotlar/qabul/qabullar"))&&X(),(0,s.jsx)(p,{value:q,keyInput:u,onChange:B,onClose:T,label:(0,y.t)("Izoh"),placeholder:(0,y.t)("misol: qarzga olindi"),type:"text"},"sale-card"),k&&(0,s.jsx)(h,{value:N,onChange:O,option:L,onSelect:M}),W.pathname.includes("/kassa/debts")?"sum"===F?(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,y.t)("Qarzlar")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[H," UZS"]})]}):(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,y.t)("Qarzlar")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[(0,g.Y2)(Z)," USD ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})]}):(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,y.t)("Qarzlar")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[(0,g.Y2)(Z)," USD ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),H," UZS"]})]}),(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,y.t)("Qarz")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem] flex items-center gap-2",children:[(0,s.jsx)(j.Z,{id:"debt",onChange:function(){return J("dollar")},value:"dollar"===F,label:(0,y.t)("USD")}),(0,s.jsx)(j.Z,{id:"debt2",onChange:function(){return J("sum")},value:"sum"===F,label:(0,y.t)("UZS")})]})]}),(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[D<0?(0,y.t)("Qaytarilayotgan"):(0,y.t)("To`lanayotgan")," ",":"," "]}),(0,s.jsxs)("h3",{className:"text-[1rem] text-loginButton",children:[z.toLocaleString("ru-Ru")," ",_]})]})]})]}),(0,s.jsxs)("div",{className:"bottom-payment w-full flex flex-col gap-[1.25rem] border-t-[1px] border-black-200 pt-[1.25rem]",children:[(0,s.jsxs)("div",{className:"custom-paymet-btn",children:[(0,s.jsx)(l,{text:(0,y.t)("Naqd"),type:"cash",active:"cash"===u,onClick:R}),(0,s.jsx)(l,{text:(0,y.t)("Plastik"),type:"card",active:"card"===u,onClick:R}),(0,s.jsx)(l,{text:(0,y.t)("O'tkazma"),type:"transfer",active:"transfer"===u,onClick:R}),!t&&(0,s.jsx)(l,{text:(0,y.t)("Aralash"),type:"mixed",active:"mixed"===u,onClick:R})]}),(0,s.jsx)(i,{text:(0,y.t)("To'lash"),onClick:Y,onDoubleClick:E})]})]})]})}},5592:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(1413),s=n(3433),l=n(9439),i=n(2791),r=n(9434),o=n(7689),c=n(7584),u=n(7667),d=n(2230),m=n(5077),f=n(5692),h=n(2987),x=n(9078),b=n(2106),p=n(6484),y=n(8825),v=n(763),j=n(3160),g=n(184),S=function(){var e,t,n,S,N,k=(0,o.UO)(),Z=k.id,D=(0,r.I0)(),C=(0,r.v9)((function(e){return e.login})),w=C.market,z=C.user,U=(0,r.v9)((function(e){return e.reports})),P=U.datas,I=U.count,T=U.startDate,R=U.endDate,L=U.successDebtComment,M=U.totalpayment,O=(0,r.v9)((function(e){return e.sellings})).sellings,Y=(0,r.v9)((function(e){return e.currency})),q=Y.currencyType,B=Y.currency,E=(0,i.useState)(0),A=(0,l.Z)(E,2),Q=A[0],H=A[1],F=(0,i.useState)(10),J=(0,l.Z)(F,2),W=J[0],X=J[1],_=(0,i.useState)(1),K=(0,l.Z)(_,2),V=K[0],G=K[1],$=(0,i.useState)({id:"",client:""}),ee=(0,l.Z)($,2),te=ee[0],ne=ee[1],ae=(0,i.useState)({id:"",client:""}),se=(0,l.Z)(ae,2),le=se[0],ie=se[1],re=(0,i.useState)([]),oe=(0,l.Z)(re,2),ce=oe[0],ue=oe[1],de=(0,i.useState)(P),me=(0,l.Z)(de,2),fe=me[0],he=me[1],xe=(0,i.useState)(!1),be=(0,l.Z)(xe,2),pe=be[0],ye=be[1],ve=(0,i.useState)(!1),je=(0,l.Z)(ve,2),ge=je[0],Se=je[1],Ne=(0,i.useState)("cash"),ke=(0,l.Z)(Ne,2),Ze=ke[0],De=ke[1],Ce=(0,i.useState)(""),we=(0,l.Z)(Ce,2),ze=we[0],Ue=we[1],Pe=(0,i.useState)(""),Ie=(0,l.Z)(Pe,2),Te=Ie[0],Re=Ie[1],Le=(0,i.useState)(""),Me=(0,l.Z)(Le,2),Oe=Me[0],Ye=Me[1],qe=(0,i.useState)(""),Be=(0,l.Z)(qe,2),Ee=Be[0],Ae=Be[1],Qe=(0,i.useState)(""),He=(0,l.Z)(Qe,2),Fe=He[0],Je=He[1],We=(0,i.useState)(""),Xe=(0,l.Z)(We,2),_e=Xe[0],Ke=Xe[1],Ve=(0,i.useState)(""),Ge=(0,l.Z)(Ve,2),$e=Ge[0],et=Ge[1],tt=(0,i.useState)(""),nt=(0,l.Z)(tt,2),at=nt[0],st=nt[1],lt=(0,i.useState)("sum"),it=(0,l.Z)(lt,2),rt=it[0],ot=it[1],ct=(0,i.useState)(null),ut=(0,l.Z)(ct,2),dt=ut[0],mt=ut[1],ft=(0,i.useState)(""),ht=(0,l.Z)(ft,2),xt=ht[0],bt=ht[1],pt=(0,i.useState)(""),yt=(0,l.Z)(pt,2),vt=yt[0],jt=yt[1],gt=(0,i.useState)(!1),St=(0,l.Z)(gt,2),Nt=St[0],kt=St[1],Zt=(0,i.useState)(null),Dt=(0,l.Z)(Zt,2),Ct=Dt[0],wt=Dt[1],zt=(0,i.useState)(""),Ut=(0,l.Z)(zt,2),Pt=Ut[0],It=Ut[1],Tt=(0,i.useState)({label:"%",value:"%"}),Rt=(0,l.Z)(Tt,2),Lt=Rt[0],Mt=Rt[1],Ot=(0,i.useState)({filter:"",sort:"",count:0}),Yt=(0,l.Z)(Ot,2),qt=Yt[0],Bt=Yt[1],Et=(0,i.useState)(P),At=(0,l.Z)(Et,2),Qt=At[0],Ht=At[1],Ft=(0,i.useState)(0),Jt=(0,l.Z)(Ft,2),Wt=Jt[0],Xt=Jt[1],_t=(0,i.useState)(0),Kt=(0,l.Z)(_t,2),Vt=Kt[0],Gt=Kt[1],$t=(0,i.useState)(0),en=(0,l.Z)($t,2),tn=en[0],nn=en[1],an=(0,i.useState)(0),sn=(0,l.Z)(an,2),ln=sn[0],rn=sn[1],on=(0,i.useState)(0),cn=(0,l.Z)(on,2),un=cn[0],dn=cn[1],mn=(0,i.useState)(0),fn=(0,l.Z)(mn,2),hn=fn[0],xn=fn[1],bn=(0,i.useState)(""),pn=(0,l.Z)(bn,2),yn=pn[0],vn=pn[1],jn=(0,i.useState)(null),gn=(0,l.Z)(jn,2),Sn=gn[0],Nn=gn[1],kn=(0,i.useState)({usd:0,uzs:0}),Zn=(0,l.Z)(kn,2),Dn=(Zn[0],Zn[1]),Cn=(0,i.useState)(new Date((new Date).setMonth((new Date).getMonth()-3))),wn=(0,l.Z)(Cn,2),zn=wn[0],Un=wn[1],Pn=(0,i.useState)(new Date),In=(0,l.Z)(Pn,2),Tn=In[0],Rn=In[1],Ln=function(e){Se(e?!ge:e),De("cash"),kt(!1),et(""),bt(""),jt(""),Xt(0),Gt(0),Mt({label:"%",value:"%"})},Mn=function(e){return Math.round(100*e)/100},On=function(e){return Math.round(e)},Yn=function(){ye(!1),setTimeout((function(){vn("")}),500)},qn=function(e){"Enter"===e.key&&ne(le)};return(0,i.useEffect)((function(){var e=function(e){return Z===e},t={type:Z,currentPage:Q,countPage:W,startDate:T,endDate:R,market:w,search:te},n={startDate:zn,endDate:Tn};return e("sale")&&D((0,j.gq)(t)),e("income")&&D((0,p.fS)(t)),e("payments")&&D((0,p.BP)(t)),e("debts")&&D((0,p.UO)(n)),e("discounts")&&D((0,p.gj)(t)),e("backproducts")&&D((0,p.PO)(t)),e("expenses")&&D((0,p.Mw)(t)),function(){D((0,p.dP)())}}),[D,te,Q,W,T,R,zn,Tn,w,Z]),(0,i.useEffect)((function(){return"cash"!==Z&&"card"!==Z&&"transfer"!==Z||(he((0,s.Z)(P.filter((function(e){return 0!==e[Z]})))),ue((0,s.Z)(P.filter((function(e){return 0!==e[Z]}))))),"sale"===Z?(he(O),ue(O)):(he(P),ue(P)),function(){he([]),ue([])}}),[P,Z,O]),(0,i.useEffect)((function(){I>0&&G(I)}),[I]),(0,i.useEffect)((function(){"debts"===Z&&Dn({usd:(0,c.Y2)((0,s.Z)(P).reduce((function(e,t){return e+t.debtusd}),0)),uzs:(0,c.ei)((0,s.Z)(P).reduce((function(e,t){var n=t.debtuzs;return e+(!t.debtusd&&n||0)}),0))})}),[P,Z]),(0,i.useEffect)((function(){if("debts"===Z){var e=(0,s.Z)(P).filter((function(e){return new Date(e.createdAt)>=zn&&new Date(e.createdAt)<=Tn}));he(e)}he(P),Ht(P)}),[Z,P,zn,Tn]),(0,i.useEffect)((function(){if(L){var e={startDate:zn,endDate:Tn,market:w};D((0,p.UO)(e)),D((0,p.L6)())}}),[D,L,Z,w,te,zn,Tn]),(0,g.jsxs)("div",{className:"relative overflow-auto h-full",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mainPadding",children:[(0,g.jsx)(u.Z,{link:"/kassa"}),"debts"!==Z&&(0,g.jsx)(h.Z,{filterBy:["startDate","endDate"],startDate:new Date(T),endDate:new Date(R),setStartDate:function(e){D((0,p.es)({start:e.toISOString()}))},setEndDate:function(e){D((0,p.v1)({end:e.toISOString()}))}})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)(h.Z,{filterBy:"debts"===Z?["startDate","endDate","id","clientName"]:"expenses"===Z?["total"]:["total","id","clientName"],filterByTotal:function(e){return X(e.value)},filterById:function(e){var t=e.target.value;he((0,s.Z)((0,v.filter)((0,s.Z)(ce),(function(e){return e.saleconnector?e.saleconnector.id.includes(t):e.id.includes(t)})))),ie((0,a.Z)((0,a.Z)({},le),{},{id:t}))},filterByClientName:function(e){var t=e.target.value.toLowerCase();he((0,s.Z)((0,v.filter)((0,s.Z)(ce),(function(e){return e.client&&e.client.name.toLowerCase().includes(t)})))),ie((0,a.Z)((0,a.Z)({},le),{},{client:t}))},filterByIdWhenPressEnter:qn,filterByClientNameWhenPressEnter:qn,startDate:zn,endDate:Tn,setStartDate:function(e){Un(new Date(e.setHours(0,0,0)))},setEndDate:function(e){Rn(new Date(e.setHours(23,59,59)))}}),"debts"!==Z&&(0,g.jsx)(m.Z,{countPage:W,currentPage:Q,totalDatas:V,setCurrentPage:H})]}),(0,g.jsxs)("div",{className:"tableContainerPadding",children:[fe.length>0&&(0,g.jsx)(x.Z,{page:"sale"===Z?"saleslist":Z,headers:(N=Z,{sale:[{title:"\u2116"},{title:(0,y.t)("Sana"),filter:"createdAt"},{title:(0,y.t)("ID"),filter:"id"},{title:(0,y.t)("Mijoz")},{title:(0,y.t)("Jami")},{title:"To'langan"},{title:(0,y.t)("Qarz")},{title:(0,y.t)("Izoh")},{title:"",styles:"w-[7rem]"}],income:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Kelgan narxi"},{title:"Sotilgan narxi"},{title:"Chegirma"},{title:"Foyda"},{title:""}],debts:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Mijoz",filter:"client"},{title:"Qarz izoh"},{title:"Jami"},{title:"Qarz"},{title:""}],expenses:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"Summa"},{title:"Izoh"},{title:"Turi"}],discounts:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Mijoz",filter:"client"},{title:"Jami"},{title:"Chegirma"},{title:"Foiz"}],backproducts:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Mijoz",filter:"client"},{title:"Soni"},{title:"Jami"},{title:"Qaytarilgan"},{title:""}],payments:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Mijoz"},{title:"Naqt"},{title:"Dollar"},{title:"Plastik"},{title:"O'tkazma"},{title:"Qarzdan to'lov"},{title:"Qaytarilgan"},{title:""}]}["".concat(N)]),data:fe,currentPage:Q,countPage:W,currency:q,type:Z,Pay:function(e){var t=e.debtusd||0,n=e.debtuzs||0;nn((0,c.Y2)(t)),rn(n),Ue((0,c.Nt)(n,B)),Re(n),st((0,c.Y2)(t)),dn((0,c.Y2)(t)),xn(n),wt(e._id),Se(!0),mt(null===e||void 0===e?void 0:e.debtId)},reports:!0,Print:function(e){console.log(e),"debts"===Z&&(Nn(e),vn("allChecks"),ye(!0)),"sale"===Z&&(Nn(e),vn("allChecks"),ye(!0)),"backproducts"===Z&&(vn("allChecks"),Nn(e),ye(!pe)),"income"===Z&&(vn("allChecks"),Nn(e),ye(!pe)),"payments"===Z&&(e.payment?(vn("checkSell"),Nn(e),ye(!pe)):(vn("allChecks"),Nn(e),ye(!pe)))},Sort:function(e){if(e===qt.filter)switch(qt.count){case 1:Bt({filter:e,sort:"1",count:2}),(0,c.ki)(fe,he,e,1,Qt);break;case 2:Bt({filter:e,sort:"",count:0}),(0,c.ki)(fe,he,e,"",Qt);break;default:Bt({filter:e,sort:"-1",count:1}),(0,c.ki)(fe,he,e,-1,Qt)}else Bt({filter:e,sort:"-1",count:1}),(0,c.ki)(fe,he,e,-1,Qt)},sortItem:qt,Edit:function(e,t){D((0,p.X_)({comment:e,debtid:t})),vn("debtcomment"),ye(!pe)}}),"debts"===Z&&(0,g.jsxs)("ul",{className:"w-full grid grid-cols-12 tr",children:[(0,g.jsx)("li",{className:"col-span-8 ".concat(0===fe.length&&"border-t-2"," td py-[0.625rem] text-right"),children:"Jami:"}),(0,g.jsxs)("li",{className:"col-span-4 ".concat(0===fe.length&&"border-t-2"," td py-[0.625rem] font-bold"),children:[(0,s.Z)(fe).reduce((function(e,t){return e+("sum"===t.debtType&&t.debtuzs||0)}),0)," UZS ",(0,g.jsx)("br",{}),Math.round(100*(0,s.Z)(fe).reduce((function(e,t){return e+("dollar"===t.debtType&&t.debt||0)}),0))/100," USD"]})]}),"payments"===Z&&(null===M||void 0===M||null===(e=M.payment)||void 0===e?void 0:e.cash)&&(0,g.jsxs)("div",{className:"flex items-center justify-between mt-6 bg-white p-2",children:[(0,g.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,g.jsx)("div",{className:"text-[18px] font-bold mb-2",children:"Tushumlar"}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Naqt:"}),(0,g.jsxs)("div",{children:["USD"===q?(0,c.Y2)(M.payment.cash).toLocaleString("ru-RU"):(0,c.ei)(M.payment.cashuzs).toLocaleString("ru-RU")," ",q]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Dollar:"}),(0,g.jsxs)("div",{children:[(0,c.Y2)(null===(t=M.payment)||void 0===t?void 0:t.usdpayment)," USD"]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Plastik:"}),(0,g.jsxs)("div",{children:["USD"===q?(0,c.Y2)(M.payment.card).toLocaleString("ru-RU"):(0,c.ei)(M.payment.carduzs).toLocaleString("ru-RU")," ",q]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"O'tkazma:"}),(0,g.jsxs)("div",{children:["USD"===q?(0,c.Y2)(M.payment.transfer).toLocaleString("ru-RU"):(0,c.ei)(M.payment.transferuzs).toLocaleString("ru-RU")," ",q]})]})]}),(0,g.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,g.jsx)("div",{className:"text-[18px] font-bold mb-2",children:"Qaytarilganlar"}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Naqt:"})," ",(0,g.jsxs)("span",{children:["USD"===q?(0,c.Y2)(M.back.cash).toLocaleString("ru-RU"):(0,c.ei)(M.back.cashuzs).toLocaleString("ru-RU")," ",q]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Dollar:"})," ",(0,g.jsxs)("span",{children:[null===M||void 0===M||null===(n=M.back)||void 0===n?void 0:n.usdpayment," USD"]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Plastik:"}),(0,g.jsxs)("span",{children:["USD"===q?(0,c.Y2)(M.back.card).toLocaleString("ru-RU"):(0,c.ei)(M.back.carduzs).toLocaleString("ru-RU")," ",q]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"O'tkazma:"}),(0,g.jsxs)("span",{children:["USD"===q?(0,c.Y2)(M.back.transfer).toLocaleString("ru-RU"):(0,c.ei)(M.back.transferuzs).toLocaleString("ru-RU")," ",q]})]})]}),(0,g.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,g.jsx)("div",{className:"text-[18px] font-bold mb-2",children:"Kassadagi qoldiq"}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Naqt:"}),(0,g.jsxs)("span",{children:["USD"===q?(0,c.Y2)(M.result.cash).toLocaleString("ru-RU"):(0,c.ei)(M.result.cashuzs).toLocaleString("ru-RU")," ",q]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Dollar:"}),(0,g.jsxs)("span",{children:[(0,c.Y2)(null===M||void 0===M||null===(S=M.result)||void 0===S?void 0:S.usdpayment)," USD"]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Plastik:"}),(0,g.jsxs)("span",{children:["USD"===q?(0,c.Y2)(M.result.card).toLocaleString("ru-RU"):(0,c.ei)(M.result.carduzs).toLocaleString("ru-RU")," ",q]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"O'tkazma:"}),(0,g.jsxs)("span",{children:["USD"===q?(0,c.Y2)(M.result.transfer).toLocaleString("ru-RU"):(0,c.ei)(M.result.transferuzs).toLocaleString("ru-RU")," ",q]})]})]})]})]}),(0,g.jsx)("div",{children:(0,g.jsx)(f.Z,{returned:!0,type:Ze,active:ge,togglePaymentModal:Ln,changePaymentType:function(e){var t=tn-Number($e),n=ln-Number(xt);if(Ze!==e)switch(De(e),e){case"cash":Ue(t),Re(n),Ye(""),Ae(""),Je(""),Ke(""),dn(t),xn(n),Xt(0),Gt(0);break;case"card":Ye(t),Ae(n),Ue(""),Re(""),Je(""),Ke(""),dn(t),xn(n),Xt(0),Gt(0);break;case"transfer":Je(t),Ke(n),Ue(""),Re(""),Ye(""),Ae(""),dn(t),xn(n),Xt(0),Gt(0);break;default:Ue(""),Re(""),Ye(""),Ae(""),Je(""),Ke(""),dn(0),xn(0),Xt(tn-Number($e)),Gt(ln-Number(xt))}},onChange:function(e,t){!function(e,t){var n=Math.abs(tn),a=Math.abs(ln);if("cash"===t){var s=Number(e),l=Number((0,c.Nt)(e,B));s<=a?(Re(s),Ue((0,c.Y2)(l)),Gt(On(a-s)),dn((0,c.Y2)(l)),xn(s)):(0,b.bH)()}else if("usd"===t){var i=Number((0,c.uX)(e,B)),r=Number(e);r<=n?(Xt(Mn(n-r)),dn((0,c.Y2)(r)),xn(i),st((0,c.Y2)(e))):(0,b.bH)()}else if("card"===t){var o=Number(e)+Number(Te)+Number(_e),u=Number(ze)+Number((0,c.Nt)(e,B))+Number(Fe);o<=a?(Ye((0,c.Nt)(e,B)),Ae(e),Xt(Mn(n-u)),Gt(On(a-o)),dn((0,c.Nt)(o,B)),xn(o)):(0,b.bH)()}else{var d=Number(e)+Number(Te)+Number(Ee),m=Number(ze)+Number(Oe)+Number((0,c.Nt)(e,B));d<=a?(Je((0,c.Nt)(e,B)),Ke(e),Xt(Mn(n-m)),Gt(On(a-d)),dn(m),xn(d)):(0,b.bH)()}}(e,t)},client:Pt,allPayment:tn,allPaymentUzs:ln,card:"USD"===q?Oe:Ee,cash:"USD"===q?ze:Te,debt:Wt,debtuzs:Vt,discount:"USD"===q?"USD"===Lt.value?$e:vt:"UZS"===Lt.value?xt:vt,handleChangeDiscount:function(e){var t=Math.round(5*tn/100*10)/10,n=Math.round(5*ln/100*10)/10;if("USD"===Lt.value)e>t?(0,b.kH)("".concat(t," USD")):(et(e),bt((0,c.uX)(e,B)),jt(Math.round(tn*e/100*10)/10),Xt(tn-e),Gt((0,c.uX)(tn-e,B)));else if("UZS"===Lt.value)e>n?(0,b.kH)("".concat(n," UZS")):(bt(e),et((0,c.Nt)(e,B)),jt(Math.round(ln*e/100*10)/10),Xt((0,c.Nt)(ln-e,B)),Gt(ln-e));else if(e>5)(0,b.kH)("5%");else{var a=Math.round(tn*e/100*10)/10,s=Math.round(ln*e/100*10)/10;jt(e),et(a),bt(s),Xt(Mn(tn-a)),Gt(On(ln-s)),dn(tn-a),xn(ln-s)}Ue(""),Re(""),Ye(""),Ae(""),Je(""),Ke(""),dn(0),xn(0)},hasDiscount:Nt,transfer:"USD"===q?Fe:_e,handleClickDiscountBtn:function(){kt(!Nt),"cash"===Ze?(Ue(tn),Re(ln),dn(tn),xn(ln)):"card"===Ze?(Ye(tn),Ae(ln),dn(tn),xn(ln)):"transfer"===Ze?(Je(tn),Ke(ln),dn(tn),xn(ln)):(Ue(""),Re(""),Ye(""),Ae(""),Je(""),Ke(""),dn(0),xn(0),Xt(tn),Gt(ln)),et(""),bt(""),jt("")},discountSelectOption:Lt,handleChangeDiscountSelectOption:function(e){Lt.value!==e.value&&(Mt(e),et(""),bt(""),jt(""),Ue(""),Re(""),Ye(""),Ae(""),Je(""),Ke(""),Xt(tn),Gt(ln),dn(0),xn(0))},paid:"USD"===q?un:hn,handleClickPay:function(){vn("complete"),ye(!0)},paymentUsd:at,setPaymentUsd:st,debtType:rt,setDebtType:ot})}),(0,g.jsx)(d.Z,{body:yn,toggleModal:"sell"===yn?function(){vn(""),ye(!pe),setTimeout((function(){}),500)}:"complete"===yn?Yn:"allChecks"===yn?function(){ye(!pe),vn(""),vn(null)}:"debtcomment"===yn?function(){D((0,p.X_)({comment:null,debtid:null})),vn(""),ye(!pe)}:function(){ye(!pe),vn(""),Nn(null)},approveFunction:function(){Yn();var e={payment:{totalprice:Number(tn),totalpriceuzs:Number(ln),type:Ze,cash:Number(ze),cashuzs:Number(Te),card:Number(Oe),carduzs:Number(Ee),transfer:Number(Fe),transferuzs:Number(_e),discount:Number($e),discountuzs:Number(xt),debtType:rt,usdpayment:Number(at)},debtId:dt,user:z._id,saleconnectorid:Ct};D((0,p.Yt)(e)).then((function(e){var t=e.payload;Nn(t),D((0,p.UO)()),setTimeout((function(){var e;vn("checkPayment"),ye(!0),Ue(""),Re(""),Ye(""),Ae(""),Je(""),Ke(""),Xt(0),Gt(0),dn(0),xn(0),It(""),wt(null),Ln(e)}),500)}))},isOpen:pe,payment:Sn,printedSelling:Sn,product:Sn,headers:[{title:"\u2116"},{title:"Kodi"},{title:"Nomi"},{title:"Soni"},{title:"Narxi"},{title:"Jami",styles:"w-[10rem]"},{title:""}],headerText:"complete"===yn&&"To'lovni amalga oshirishni tasdiqlaysizmi?",title:"complete"===yn&&"To'lovni amalga oshirgach bu ma`lumotlarni o'zgaritirib bo'lmaydi!"})]})}}}]);
//# sourceMappingURL=8530.89130c53.chunk.js.map