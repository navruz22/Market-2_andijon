"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7991],{2071:function(e,t,n){n(2791);var r=n(9513),a=n.n(r),s=n(71),c=(n(8639),n(184));t.Z=function(e){var t=e.value,n=e.onChange,r=e.placeholder,l=e.maxWidth;return(0,c.jsxs)("div",{className:"group relative ".concat(l||"grow"),children:[(0,c.jsx)(a(),{selected:t,placeholderText:r,onChange:n,className:"datePickerStyle",dateFormat:"dd.MM.yyyy"}),(0,c.jsx)(s.AFK,{size:"0.625rem",className:"datePickerIcon group-hover:text-blue-500"})]})}},257:function(e,t,n){n(2791);var r=n(184);t.Z=function(e){var t=e.label,n=e.element,a=e.grow;return(0,r.jsxs)("div",{className:"flex items-center gap-[0.75rem] ".concat(a?"grow":""),children:[t&&(0,r.jsxs)("h3",{className:"font-light text-blue-700 leading-[1rem] text-sm",children:[t,":"]}),n]})}},8309:function(e,t,n){n.d(t,{Z:function(){return u}});n(2791);var r=n(7146),a=n(1413),s=n(1188),c=n(71),l=n(184),i=function(e){return(0,l.jsx)(s.c.DropdownIndicator,(0,a.Z)((0,a.Z)({},e),{},{children:(0,l.jsx)(c.lmx,{size:"0.625rem",color:"#86A7E9"})}))},o={container:function(e){return(0,a.Z)((0,a.Z)({},e),{},{height:"100%"})},control:function(e,t){var n=t.isDisabled;return(0,a.Z)((0,a.Z)({},e),{},{width:"100%",height:"100%",padding:".625rem .58rem",borderRadius:".25rem",fontSize:".875rem",fontWeight:"400",color:"#86A7E9",outline:"none",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.05)",cursor:"pointer","&:hover":{backgroundColor:"#EAEAEA"},"&:focus-within":{outline:"4px solid #A9C0EF",backgroundColor:"#ffffff"},backgroundColor:n?"rgba(28, 28, 28, 0.2)":"#fff",border:n?"none":"1px solid #86A7E9"})},option:function(e,t){var n=t.isFocused,r=t.isSelected;return(0,a.Z)((0,a.Z)({},e),{},{fontSize:".875rem",fontWeight:"400",color:r||n?"#ffffff":"#071F45",backgroundColor:r?"#0090A3":n?"#00B4CC":"#ffffff",transition:"all 0.2s ease",overflow:"hidden",cursor:"pointer"})},menu:function(e){return(0,a.Z)((0,a.Z)({},e),{},{zIndex:30})},singleValue:function(e){return(0,a.Z)((0,a.Z)({},e),{},{color:"#1c1c1c",fontSize:".875rem",lineHeight:"1.25rem",fontWeight:"400",margin:0})},valueContainer:function(e){return(0,a.Z)((0,a.Z)({},e),{},{padding:0})},dropdownIndicator:function(e,t){var n=t.isFocused;return(0,a.Z)((0,a.Z)({},e),{},{padding:0,paddingRight:".625rem",color:n?"#193F8A":"#071F45"})},placeholder:function(e,t){var n=t.isDisabled;return(0,a.Z)((0,a.Z)({},e),{},{margin:0,color:n?"rgba(28, 28, 28, 0.2)":"#86A7E9"})},input:function(e){return(0,a.Z)((0,a.Z)({},e),{},{padding:0,display:"flex",lineHeight:"1.25rem",margin:0})}},u=function(e){var t=e.onSelect,n=e.options,a=e.isDisabled,s=e.label,c=e.placeholder,u=e.value;return(0,l.jsxs)("div",{className:"grow",children:[s&&(0,l.jsx)("label",{className:"text-blue-700 block leading-[1.125rem] mb-[.625rem]",children:s}),(0,l.jsx)(r.ZP,{onChange:t,styles:o,value:u,defaultValue:"",options:n,isDisabled:a,placeholder:c,components:{IndicatorSeparator:function(){return null},DropdownIndicator:i}})]})}},7795:function(e,t,n){n(2791);var r=n(3168),a=n(184);t.Z=function(e){var t=e.connectors,n=e.styles,s=e.currencyType,c=(0,r.$)(["common"]).t;return(0,a.jsxs)("div",{className:"productTypeBlock ".concat(n),children:[(0,a.jsxs)("div",{className:"productType",children:[c("Maxsulotlar soni:")," ",(0,a.jsx)("span",{className:"ml-[0.5rem] font-[400] text-black-900",children:t.reduce((function(e,t){return e+t.products}),0).toLocaleString("ru-RU")})]}),(0,a.jsxs)("div",{className:"productSumAll",children:[c("Jami")," :"," ",(0,a.jsxs)("span",{className:"ml-[0.5rem] font-[400] text-black-900",children:[t.length>0?"USD"===s?t.reduce((function(e,t){return e+t.totalprice}),0).toLocaleString("ru-RU"):t.reduce((function(e,t){return e+t.totalpriceuzs}),0).toLocaleString("ru-RU"):0," ",s]})]})]})}},7991:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(3433),a=n(7762),s=n(9439),c=n(2791),l=n(1087),i=n(184),o=function(e){var t=e.totalprice,n=e.pieces,r=e.suppliers,a=e.createdAt,s=e.currencyType,c=e.path,o=e.totalpriceuzs,u=e.state,d=e.debt,p=e.debtUzs,m=e.paid,f=e.paidUzs;return(0,i.jsx)(l.rU,{to:c,className:"flex-[0_0_23.5%]",state:u,children:(0,i.jsxs)("div",{className:"w-full h-full cardStyle",children:[(0,i.jsxs)("h1",{className:"headerStyle",children:[("USD"===s?t:o).toLocaleString("ru-Ru"),(0,i.jsx)("span",{className:"cardSpan",children:s})]}),(0,i.jsxs)("div",{className:"text-[.875rem] mt-[1rem]",children:[(0,i.jsxs)("div",{className:"numberCard",children:[(0,i.jsx)("p",{className:"paragrafCard",children:"Maxsulot:"}),(0,i.jsx)("p",{children:n.toLocaleString("ru-Ru")})]}),(0,i.jsxs)("div",{className:"numberCard",children:[(0,i.jsx)("p",{className:"paragrafCard",children:" Yetkazuvchilar"}),(0,i.jsx)("p",{children:r.toLocaleString("ru-Ru")})]}),(0,i.jsxs)("div",{className:"numberCard",children:[(0,i.jsx)("p",{className:"paragrafCard",children:"Sana:"}),(0,i.jsx)("p",{children:new Date(a).toLocaleDateString("ru-RU")})]}),(0,i.jsx)("span",{className:"block h-[1px] bg-white-400 my-[0.5rem]"}),(0,i.jsxs)("div",{className:"numberCard items-center",children:[(0,i.jsx)("p",{className:"paragrafCard",children:"To'langan :"}),(0,i.jsxs)("span",{className:"block p-[0.1rem_0.5rem] rounded-[4px] bg-success-500",children:["UZS"===s?f.toLocaleString("ru-Ru"):m.toLocaleString("ru-Ru")," ",(0,i.jsx)("span",{children:s})]})]}),d>0&&(0,i.jsxs)("div",{className:"numberCard items-center",children:[(0,i.jsx)("p",{className:"paragrafCard",children:"Qarzlar :"}),(0,i.jsxs)("span",{className:"block p-[0.1rem_0.5rem] rounded-[4px] bg-error-500",children:["UZS"===s?p.toLocaleString("ru-Ru"):d.toLocaleString("ru-Ru")," ",(0,i.jsx)("span",{children:s})]})]})]})]})})},u=n(9434),d=n(763),p=n(5121),m=n(2071),f=n(8309),h=n(257),g=n(7795),x=n(3168);var b=function(){var e=(0,x.$)(["common"]).t,t=(0,u.I0)(),n=(0,u.v9)((function(e){return e.login})).market._id,l=(0,u.v9)((function(e){return e.currency})).currencyType,b=(0,u.v9)((function(e){return e.incoming})),v=b.incomingconnectors,y=b.suppliers,j=(0,c.useState)(new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString()),S=(0,s.Z)(j,2),Z=S[0],z=S[1],N=(0,c.useState)(new Date((new Date).setHours(23,59,59,0)).toISOString()),w=(0,s.Z)(N,2),D=w[0],C=w[1],k=(0,c.useState)([]),A=(0,s.Z)(k,2),I=A[0],R=A[1],U=(0,c.useState)([]),_=(0,s.Z)(U,2),E=_[0],L=_[1],F=(0,c.useState)(""),T=(0,s.Z)(F,2),P=T[0],W=T[1],M=(0,c.useCallback)((function(e){var t,n=[],r=function(e){return new Date(e.createdAt).toLocaleDateString()},s=(0,a.Z)(e);try{var c=function(){var e=t.value,a=(0,d.filter)(n,(function(t){return r(t)===r(e)}));a.length>0?O(a,e):Y(n,e)};for(s.s();!(t=s.n()).done;)c()}catch(l){s.e(l)}finally{s.f()}q(n)}),[]),q=function(e){var t=function(e){var t=[];return e.reduce((function(e,n){var r=n._id;return t.includes(r)?e:(t.push(r),e+1)}),0)},n=function(e){return e.reduce((function(e,t){return e+t}),0)},r=(0,d.map)(e,(function(e){return{createdAt:e.createdAt,products:e.incoming.length,suppliers:t(e.supplier),totalprice:n(e.total),totalpriceuzs:n(e.totaluzs),totalpayment:n(e.totalpayment),totalpaymentuzs:n(e.totalpaymentuzs),debt:n(e.debt),debtuzs:n(e.debtuzs)}}));L(r)},O=function(e,t){var n;(n=e[0].incoming).push.apply(n,(0,r.Z)(t.incoming)),e[0].supplier.push(t.supplier),e[0].total.push(t.total),e[0].totaluzs.push(t.totaluzs),e[0].totalpayment.push(t.totalpayment),e[0].totalpaymentuzs.push(t.totalpaymentuzs),e[0].debt.push(t.debt),e[0].debtuzs.push(t.debtuzs),e[0]._id=t._id},Y=function(e,t){var n={createdAt:t.createdAt,incoming:(0,r.Z)(t.incoming),total:[t.total],totaluzs:[t.totaluzs],totalpayment:[t.totalpayment],totalpaymentuzs:[t.totalpaymentuzs],debt:[t.debt],debtuzs:[t.debtuzs],supplier:[t.supplier],_id:t._id};e.push(n)},H=function(e,t){"beginDay"===t&&z(new Date(e).toISOString()),"endDay"===t&&C(new Date(e).toISOString())};return(0,c.useEffect)((function(){!function(e){var t=(0,d.map)(e,(function(e){return{label:e.name,value:e._id}}));R(t)}(y)}),[y]),(0,c.useEffect)((function(){M(v)}),[v,M]),(0,c.useEffect)((function(){t((0,p.FN)({market:n,beginDay:Z,endDay:D}))}),[t,n,Z,D]),(0,c.useEffect)((function(){t((0,p.yn)({_id:n}))}),[t,n]),(0,i.jsxs)("section",{className:"grow overflow-auto",children:[(0,i.jsxs)("div",{className:"flex items-center gap-[1.25rem] mainPadding",children:[(0,i.jsx)(m.Z,{label:e("dan"),value:new Date(Z),onChange:function(e){return H(e,"beginDay")},maxWidth:"max-w-[9.6875rem]"}),(0,i.jsx)(m.Z,{label:e("gacha"),value:new Date(D),onChange:function(e){return H(e,"endDay")},maxWidth:"max-w-[9.6875rem]"}),(0,i.jsx)(h.Z,{element:(0,i.jsx)(f.Z,{isSearchable:!0,options:[{label:e("Yetkazib beruvchilar"),value:"all"}].concat((0,r.Z)(I)),onSelect:function(e){var t=e.value;if("all"===t)M(v),W("");else{var n=(0,d.filter)(v,(function(e){return e.supplier._id===t}));M(n),W(e.label)}}}),grow:!0,label:e("Yetkazuvchini tanlang")})]}),(0,i.jsx)(g.Z,{currencyType:l,connectors:E,styles:"mainPadding"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-[1.25rem] mainPadding",children:(0,d.map)(E,(function(e){return(0,i.jsx)(o,{totalprice:e.totalprice,totalpriceuzs:e.totalpriceuzs,currencyType:l,pieces:e.products,suppliers:e.suppliers,createdAt:e.createdAt,debt:e.debt,debtUzs:e.debtuzs,paid:e.totalpayment,paidUzs:e.totalpaymentuzs,path:"/maxsulotlar/qabul/qabullar/".concat((0,d.uniqueId)()),state:{date:e.createdAt,supplier:P}},(0,d.uniqueId)("card"))}))})]})}}}]);
//# sourceMappingURL=7991.30e6d80e.chunk.js.map