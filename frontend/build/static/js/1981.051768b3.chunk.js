"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1981],{2543:function(e,t,a){a.d(t,{Z:function(){return l}});a(2791);var n=a.p+"static/media/Excel.3a5a1731280185e0e4ae99ee0a4eebfc.svg",r=a(3168),i=a(184);var l=function(e){var t=e.onClick,a=(0,r.$)(["common"]).t;return(0,i.jsxs)("button",{className:"exportButton",onClick:t,children:[a("Eksport"),(0,i.jsx)("span",{className:"btn-icon bg-white-900 p-[8px]",children:(0,i.jsx)("img",{src:n,alt:"excel icon"})})]})}},830:function(e,t,a){a(2791);var n=a(71),r=a(3168),i=a(184);t.Z=function(e){var t=e.readExcel,a=(0,r.$)(["common"]).t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{children:(0,i.jsxs)("label",{htmlFor:"import-field",className:"importButton",children:[a("Import"),(0,i.jsx)("span",{className:"btn-icon bg-white-900 p-[8px] text-primary-800",children:(0,i.jsx)(n.hOP,{size:"1rem"})})]})}),(0,i.jsx)("input",{type:"file",className:"hidden",id:"import-field",onClick:function(e){return e.target.value=null},onChange:function(e){var a=e.target.files[0];t(a)}})]})}},1938:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var n=a(3433),r=a(1413),i=a(9439),l=a(2791),o=a(2543),c=a(830),u=a(4045),s=a(5077),d=a(9078),m=a(9434),g=a(4232),f=a(1295),h=a(6408),p=a(4337),v=a(1821),x=a(2106),P=a(6096),y=a(2230),S=a(8063),b=a(7799),Z=a(3168),C=(a(2817),a(2932),a(184));var k=function(e){var t=e.searchBarcode,a=e.stickyForm,n=e.handleChangeCodeOfProduct,r=e.codeOfProduct,i=e.handleChangeNameOfProduct,l=e.nameOfProduct,o=e.numberOfProduct,c=e.handleChangeNumberOfProduct,u=e.unitOfProduct,s=e.handleChangeUnitOfProduct,d=e.handleChangePriceOfProduct,m=e.priceOfProduct,g=e.sellingPriceOfProduct,f=e.sellingPriceOfProductUsd,h=e.handleChangeSellingPriceOfProduct,p=e.handleEdit,v=e.addNewProduct,x=e.clearForm,P=e.pageName,y=e.unitOptions,k=e.categoryOfProduct,j=e.categoryOptions,O=e.handleChangeCategoryOfProduct,N=e.checkOfProduct,U=e.handleChangeCheckOfProduct,M=(e.tradePrice,e.handleChangeTradePrice,e.minimumCount),E=e.handleChangeMinimumCount,w=e.packcount,z=e.handleChangePackount,D=e.sellingPriceOfProcient,B=e.handleChangeSellingPriceOfProcient,q=(e.handleChangeTradePriceProcient,e.tradePriceProcient,e.handleChangeSellingPriceOfProductUsd),K=e.priceOfProductUsd,F=e.handleChangePriceOfProductUsd,_=e.isUsd,T=e.setIsUsd,I=(0,Z.$)(["common"]).t;return(0,C.jsxs)("form",{className:"flex gap-[1.25rem] bg-background flex-col mainPadding transition ease-linear duration-200 ".concat(a?"stickyForm":""),children:[(0,C.jsxs)("div",{className:"flex gap-[2.5rem]",children:[(0,C.jsx)(S.Z,{label:I("Shtrix kodi"),placeholder:"".concat(I("misol"),": 123456789"),onChange:U,value:N,maxWidth:"w-[10rem]",onKeyUp:t}),(0,C.jsx)(S.Z,{value:k,onChange:O,label:I("Kategoriya nomi"),placeholder:I("tanlang..."),select:!0,options:j,maxWidth:"w-[15rem]"}),(0,C.jsx)(S.Z,{label:I("Maxsulot kodi"),placeholder:"".concat(I("misol"),": 1234"),onChange:n,value:r,type:"text",maxWidth:"w-[8.75rem]"}),(0,C.jsx)(S.Z,{label:I("Maxsulot nomi"),placeholder:"".concat(I("misol"),": Acer"),onChange:i,value:l})]}),(0,C.jsxs)("div",{className:"flex gap-[2.5rem] items-end",children:[(0,C.jsx)(S.Z,{value:u,onChange:s,label:I("O'lchov birligi"),placeholder:I("tanlang..."),select:!0,options:y}),"accept"!==P&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S.Z,{value:o,onChange:c,label:I("Maxsulot soni"),placeholder:"".concat(I("misol"),": 100"),type:"text"}),(0,C.jsx)(S.Z,{value:w,onChange:z,label:"Optom qiymat",placeholder:"".concat(I("misol"),": 300"),type:"text"})]}),"accept"!==P&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(S.Z,{value:m,onChange:d,label:I("Keltirilgan narxi"),placeholder:"".concat(I("misol"),": 100"),type:"text"}),(0,C.jsx)(S.Z,{value:K,onChange:F,label:I("Keltirilgan narxi USD"),placeholder:"".concat(I("misol"),": 100"),type:"text"})]})]}),(0,C.jsxs)("div",{className:"flex flex gap-[2.5rem] items-end",children:[(0,C.jsx)(S.Z,{value:g,onChange:h,label:I("Sotish narxi"),placeholder:"".concat(I("misol"),": 200"),type:"text"}),(0,C.jsxs)("div",{className:"flex gap-2",children:[(0,C.jsx)(S.Z,{value:f,onChange:q,label:I("Sotish narxi USD"),placeholder:"".concat(I("misol"),": 200"),type:"text"}),(0,C.jsx)("div",{className:"checkbox-card sale-toggle-container",children:(0,C.jsx)("input",{className:"cursor-pointer",type:"checkbox",checked:_,onChange:function(){return T(!_)}})})]}),(0,C.jsx)(S.Z,{value:D,onChange:B,label:I("Sotish foizi"),placeholder:"".concat(I("misol"),": 30 %"),type:"text"}),(0,C.jsx)(S.Z,{value:M,onChange:E,label:"Minimum qiymat",placeholder:"".concat(I("misol"),": 300"),type:"text"}),(0,C.jsxs)("div",{className:"flex gap-[1.25rem] min-w-[20rem]",children:[(0,C.jsx)(b.Z,{onClick:a?p:v,add:!a,edit:a,text:I(a?"Saqlash":"Yangi maxsulot qo`shish")}),(0,C.jsx)(b.Z,{onClick:x,text:I("Tozalash")})]})]})]})},j=a(8862),O=a(7584),N=a(2987),U=a(7129),M=a(8498),E=a(9894),w=a(763),z=a(9732);var D=function(){var e=(0,Z.$)(["common"]).t,t=(0,m.I0)(),a=(0,m.v9)((function(e){return e.login})).market._id,S=(0,m.v9)((function(e){return e.units})).units,b=(0,m.v9)((function(e){return e.category})).allcategories,D=(0,m.v9)((function(e){return e.currency})),B=D.currency,q=D.currencyType,K=(0,m.v9)((function(e){return e.products})),F=K.products,_=K.total,T=K.loading,I=K.lastProductCode,X=K.searchedProducts,A=K.totalSearched,R=K.loadingExcel,W=(0,m.v9)((function(e){return e.barcode})).barcode,Y=(0,l.useState)(F),$=(0,i.Z)(Y,2),J=$[0],L=$[1],Q=(0,l.useState)(X),G=(0,i.Z)(Q,2),V=G[0],H=G[1],ee=(0,l.useState)(""),te=(0,i.Z)(ee,2),ae=te[0],ne=te[1],re=(0,l.useState)(""),ie=(0,i.Z)(re,2),le=ie[0],oe=ie[1],ce=(0,l.useState)(""),ue=(0,i.Z)(ce,2),se=ue[0],de=ue[1],me=(0,l.useState)(""),ge=(0,i.Z)(me,2),fe=ge[0],he=ge[1],pe=(0,l.useState)(""),ve=(0,i.Z)(pe,2),xe=ve[0],Pe=ve[1],ye=(0,l.useState)(""),Se=(0,i.Z)(ye,2),be=Se[0],Ze=Se[1],Ce=(0,l.useState)(""),ke=(0,i.Z)(Ce,2),je=ke[0],Oe=ke[1],Ne=(0,l.useState)(""),Ue=(0,i.Z)(Ne,2),Me=Ue[0],Ee=Ue[1],we=(0,l.useState)(""),ze=(0,i.Z)(we,2),De=ze[0],Be=ze[1],qe=(0,l.useState)(""),Ke=(0,i.Z)(qe,2),Fe=Ke[0],_e=Ke[1],Te=(0,l.useState)(""),Ie=(0,i.Z)(Te,2),Xe=Ie[0],Ae=Ie[1],Re=(0,l.useState)(""),We=(0,i.Z)(Re,2),Ye=We[0],$e=We[1],Je=(0,l.useState)(""),Le=(0,i.Z)(Je,2),Qe=Le[0],Ge=Le[1],Ve=(0,l.useState)(""),He=(0,i.Z)(Ve,2),et=He[0],tt=He[1],at=(0,l.useState)("10"),nt=(0,i.Z)(at,2),rt=nt[0],it=nt[1],lt=(0,l.useState)(0),ot=(0,i.Z)(lt,2),ct=ot[0],ut=ot[1],st=(0,l.useState)(_),dt=(0,i.Z)(st,2),mt=dt[0],gt=dt[1],ft=(0,l.useState)(!1),ht=(0,i.Z)(ft,2),pt=ht[0],vt=ht[1],xt=(0,l.useState)(null),Pt=(0,i.Z)(xt,2),yt=Pt[0],St=Pt[1],bt=(0,l.useState)(!1),Zt=(0,i.Z)(bt,2),Ct=Zt[0],kt=Zt[1],jt=(0,l.useState)(null),Ot=(0,i.Z)(jt,2),Nt=Ot[0],Ut=Ot[1],Mt=(0,l.useState)(null),Et=(0,i.Z)(Mt,2),wt=Et[0],zt=Et[1],Dt=(0,l.useState)([]),Bt=(0,i.Z)(Dt,2),qt=Bt[0],Kt=Bt[1],Ft=(0,l.useState)([]),_t=(0,i.Z)(Ft,2),Tt=_t[0],It=_t[1],Xt=(0,l.useState)([]),At=(0,i.Z)(Xt,2),Rt=At[0],Wt=At[1],Yt=(0,l.useState)([]),$t=(0,i.Z)(Yt,2),Jt=$t[0],Lt=$t[1],Qt=(0,l.useState)(""),Gt=(0,i.Z)(Qt,2),Vt=Gt[0],Ht=Gt[1],ea=(0,l.useState)({filter:"",sort:"",count:0}),ta=(0,i.Z)(ea,2),aa=ta[0],na=ta[1],ra=(0,l.useState)(!1),ia=(0,i.Z)(ra,2),la=ia[0],oa=ia[1],ca=(0,l.useState)(""),ua=(0,i.Z)(ca,2),sa=ua[0],da=ua[1],ma=(0,l.useState)(""),ga=(0,i.Z)(ma,2),fa=ga[0],ha=ga[1],pa=(0,l.useState)(""),va=(0,i.Z)(pa,2),xa=va[0],Pa=va[1],ya=(0,l.useState)(""),Sa=(0,i.Z)(ya,2),ba=Sa[0],Za=Sa[1],Ca=(0,l.useState)(""),ka=(0,i.Z)(Ca,2),ja=ka[0],Oa=ka[1],Na=(0,l.useState)(!1),Ua=(0,i.Z)(Na,2),Ma=Ua[0],Ea=Ua[1],wa=(0,l.useState)(""),za=(0,i.Z)(wa,2),Da=za[0],Ba=za[1],qa=function(){return kt(!Ct)},Ka=[{title:e("\u2116")},{title:e("Kategoriyasi"),filter:e("category.code")},{title:e("Kodi"),filter:"productdata.code"},{title:e("Nomi"),filter:"productdata.name"},{title:e("Soni"),filter:"total"},{title:e("Optom qiymat"),filter:"packcount"},{title:e("Olish"),filter:"price.incomingpriceuzs"},{title:e("Olish USD"),filter:"price.incomingprice"},{title:e("Sotish"),filter:"price.sellingpriceuzs"},{title:e("Sotish USD"),filter:"price.sellingprice"},{title:"Minimum qiymat",filter:"minimumcount",styles:"w-[5%]"},{title:""}],Fa=function(e){e&&e.preventDefault(),oe(""),de(""),ne(""),he(""),Ze(""),Oe(""),Be(""),_e(""),Pe(""),Ae(""),Pa(""),Za(""),da(""),St(null),vt(!1),Ee(""),Oa(""),ha("")},_a=function(){kt(!1),Ut(null),setTimeout((function(){zt(null)}),500)},Ta=function(){kt(!1),setTimeout((function(){zt(null)}),500)};return(0,l.useEffect)((function(){var e={currentPage:ct,countPage:rt,search:{name:Qe.replace(/\s+/g," ").trim(),code:Ye.replace(/\s+/g," ").trim(),category:et.replace(/\s+/g," ").trim()}};t((0,p.Xp)(e))}),[ct,rt,t]),(0,l.useEffect)((function(){t((0,v.rY)()),t((0,j.tG)()),t((0,E.zC)())}),[t]),(0,l.useEffect)((function(){L(F)}),[F]),(0,l.useEffect)((function(){gt(_)}),[_]),(0,l.useEffect)((function(){if(yt){var e=yt.productdata,t=e.name,a=e.code,n=e.barcode,r=yt.unit,i=yt.total,l=yt.category,o=yt.minimumcount,c=yt.packcount,u=yt.isUsd,s=yt.price,d=s.sellingprice,m=s.incomingprice,g=s.sellingpriceuzs,f=s.incomingpriceuzs,h=s.tradeprice,p=s.tradepriceuzs;oe(a),de(t),console.log(u),Ea(u),he(i),Pe({value:r._id,label:r.name}),Ae({value:l._id,label:"".concat(l.code," - ").concat(l.name)}),Ze(f),Oe(g),Be(m),_e(d),ne(n||""),da(o||0),Pa(h||0),Za(p||0),ha(c||0)}}),[yt]),(0,l.useEffect)((function(){Kt((0,w.map)(S,(function(e){return{value:e._id,label:e.name}})))}),[S]),(0,l.useEffect)((function(){It((0,w.map)(b,(function(e){return{value:e._id,label:e.code+"".concat(e.name?" - ".concat(e.name):"")}})))}),[b]),(0,l.useEffect)((function(){I&&(oe(I),0===ae.length&&(null===Xe||void 0===Xe?void 0:Xe.label)&&ne("47800"+Xe.label.slice(0,3)+I))}),[I]),(0,l.useEffect)((function(){H(X)}),[X]),(0,l.useEffect)((function(){W&&de(W.name)}),[W]),(0,C.jsxs)(h.E.section,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.8,ease:[.04,.62,.23,.98]},children:[la&&(0,C.jsx)("div",{className:"fixed backdrop-blur-[2px] z-[50] top-0 left-0 right-0 bottom-0 bg-white-700 flex flex-col items-center justify-center w-full",children:(0,C.jsx)(g.Z,{})}),R&&(0,C.jsx)("div",{className:"fixed backdrop-blur-[2px] z-[100] left-0 top-0 right-0 bottom-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,C.jsx)(g.Z,{})}),(0,C.jsx)(y.Z,{toggleModal:qa,body:wt,headerText:"approve"===wt&&e("Mahsulotni o`chirishni tasdiqlaysizmi?"),title:"approve"===wt&&e("O`chirilgan mahsulotni tiklashning imkoni mavjud emas!"),approveFunction:"approve"===wt?function(){t((0,p.Ir)(Nt)).then((function(e){if(!e.error){_a();var a={currentPage:ct,countPage:rt,search:{name:Qe.replace(/\s+/g," ").trim(),code:Ye.replace(/\s+/g," ").trim(),category:et.replace(/\s+/g," ").trim()}};t((0,p.Xp)(a))}}))}:function(){var e=Object.keys(Rt[0]),a=(0,w.map)(Jt,(function(e){var t={};for(var a in e)t[a]=e[a];return t}));a.forEach((function(t){return e.forEach((function(e){return t.hasOwnProperty(e)&&delete t[e]}))}));var r={products:(0,n.Z)(a),currentPage:ct,countPage:rt,search:{name:Qe.replace(/\s+/g," ").trim(),code:Ye.replace(/\s+/g," ").trim(),category:et.replace(/\s+/g," ").trim()}};t((0,p._Q)(r)).then((function(e){e.error||(Ta(),t((0,z.Dg)()))}))},closeModal:"approve"===wt?_a:Ta,isOpen:Ct,excelData:Rt,headers:[{name:"Shtrix kodi",value:"barcode"},{name:"Kategoriyasi",value:"category"},{name:"Kodi",value:"code"},{name:"Nomi",value:"name"},{name:"Soni",value:"total"},{name:"O'lchov birligi",value:"unit"},{name:"Kelish narxi USD",value:"incomingprice"},{name:"Kelish narxi UZS",value:"incomingpriceuzs"},{name:"Sotish narxi USD",value:"sellingprice"},{name:"Sotish narxi UZS",value:"sellingpriceuzs"},{name:"Optom narxi USD",value:"tradeprice"},{name:"Optom narxi UZS",value:"tradepriceuzs"},{name:"Minimum qiymat",value:"minimumcount"}],createdData:Jt,setCreatedData:Lt}),(0,C.jsx)(k,{nameOfProduct:se,unitOfProduct:xe,categoryOfProduct:Xe,codeOfProduct:le,checkOfProduct:ae,tradePriceProcient:ja,handleChangeTradePriceProcient:function(e){var t,a,n,r=e.target.value;Oa(r),t=Number(De),a=Number(be),(n=Number(r))&&J?(Za((0,O.ei)(a+a*n/100)),Pa((0,O.Y2)(t+t*n/100))):(Za(""),Pa(""))},handleChangeCheckOfProduct:function(e){var t=e.target.value;P.y.test(t)&&ne(e.target.value)},priceOfProduct:be,priceOfProductUsd:De,sellingPriceOfProduct:je,sellingPriceOfProductUsd:Fe,handleChangeSellingPriceOfProductUsd:function(e){var t=e.target.value;P.y.test(t)&&(_e(t),Oe((0,O.uX)(t,B)))},sellingPriceOfProcient:Me,numberOfProduct:fe,handleChangeSellingPriceOfProduct:function(e){var t=e.target.value;P.y.test(t)&&(Oe(t),_e((0,O.Nt)(t,B)))},handleChangeSellingPriceOfProcient:function(e){var t,a,n,r=e.target.value;Ee(r),t=Number(De),a=Number(be),(n=Number(r))&&J?(Oe((0,O.ei)(a+a*n/100)),_e((0,O.Y2)(t+t*n/100))):(Oe(""),_e(""))},handleChangePriceOfProduct:function(e){var t=e.target.value;P.y.test(t)&&(Ze(t),Be((0,O.Nt)(t,B)))},handleChangeNumberOfProduct:function(e){var t=e.target.value;P.y.test(t)&&he(t)},stickyForm:pt,clearForm:Fa,handleEdit:function(a){a.preventDefault();var n=(0,O.lj)([{value:ae,message:e("Maxsulot shtrix kodi")},{value:le,message:e("Maxsulot kodi")},{value:se,message:e("Maxsulot nomi")},{value:xe,message:e("Maxsulot o'lchov birligi")},{value:Xe,message:e("Maxsulot kategoriyasi")},{value:be,message:e("Maxsulot kelish narxi")},{value:je,message:e("Maxsulot sotish narxi")},{value:xa,message:e("Maxsulot optom narxi")},{value:sa,message:e("Maxsulot minimal miqdori")}]),i=n.failed,l=n.message;if(i)(0,x.pM)(l);else{var o={product:(0,r.Z)((0,r.Z)({},yt),{},{name:se.replace(/\s+/g," ").trim(),code:le,category:Xe.value,unit:xe.value,priceid:yt.price._id,productdata:yt.productdata._id,incomingprice:De,sellingprice:Fe,incomingpriceuzs:be,sellingpriceuzs:je,total:fe,barcode:ae,minimumcount:sa,packcount:fa,isUsd:Ma}),currentPage:ct,countPage:rt,search:{name:Qe.replace(/\s+/g," ").trim(),code:Ye.replace(/\s+/g," ").trim(),category:et.replace(/\s+/g," ").trim()}};t((0,p.nM)(o)).then((function(e){if(!e.error){Fa(),vt(!1);var a={currentPage:ct,countPage:rt,search:{name:Qe.replace(/\s+/g," ").trim(),code:Ye.replace(/\s+/g," ").trim(),category:et.replace(/\s+/g," ").trim()}};t((0,p.Xp)(a)).then((function(){document.querySelector("#".concat(Da)).scrollIntoView({block:"center"})}))}}))}},addNewProduct:function(n){if(n.preventDefault(),B){var r=(0,O.lj)([{value:ae,message:e("Maxsulot shtrix kodi")},{value:le,message:e("Maxsulot kodi")},{value:se,message:e("Maxsulot nomi")},{value:xe,message:e("Maxsulot o'lchov birligi")},{value:Xe,message:e("Maxsulot kategoriyasi")},{value:be,message:e("Maxsulot kelish narxi")},{value:je,message:e("Maxsulot sotish narxi")},{value:sa,message:e("Maxsulot minimal miqdori")}]),i=r.failed,l=r.message;if(i)(0,x.pM)(l);else{var o={currentPage:ct,countPage:rt,category:Xe.value,search:{name:Qe.replace(/\s+/g," ").trim(),code:Ye.replace(/\s+/g," ").trim(),category:et.replace(/\s+/g," ").trim()},product:{code:le,name:se.replace(/\s+/g," ").trim(),total:fe,unit:xe.value,category:Xe.value,market:a,incomingprice:De,sellingprice:Fe,incomingpriceuzs:be,sellingpriceuzs:je,barcode:ae,minimumcount:sa,packcount:fa,isUsd:Ma}};t((0,p.gK)(o)).then((function(e){e.error||(Fa(),Ta(),t((0,z.Dg)()))}))}}else(0,x.YQ)()},handleChangeCodeOfProduct:function(e){var t=e.target.value;P.y.test(t)&&oe(t)},handleChangeNameOfProduct:function(e){de(e.target.value)},handleChangeUnitOfProduct:function(e){Pe(e)},handleChangeCategoryOfProduct:function(e){Ae(e);var a={categoryId:e.value};t((0,p.Xe)(a))},pageName:"products",unitOptions:qt,categoryOptions:Tt,handleChangePriceOfProductUsd:function(e){var t=e.target.value;P.y.test(t)&&(Be(t),Ze((0,O.uX)(t,B)))},searchBarcode:function(e){if("Enter"===e.key){var a={code:e.target.value};t((0,M.nR)(a))}},minimumCount:sa,handleChangeMinimumCount:function(e){var t=e.target.value;P.y.test(t)&&da(t)},tradePrice:"USD"===q?xa:ba,handleChangeTradePrice:function(e){var t=e.target.value;P.y.test(t)&&("UZS"===q?(Za(t),Pa((0,O.Nt)(t,B))):(Pa(t),Za((0,O.uX)(t,B))))},packcount:fa,handleChangePackount:function(e){var t=e.target.value;P.y.test(t)&&ha(t)},isUsd:Ma,setIsUsd:Ea}),(0,C.jsxs)("div",{className:"flex justify-between items-center mainPadding",children:[(0,C.jsxs)("div",{className:"flex gap-[1.5rem]",children:[(0,C.jsx)(o.Z,{onClick:function(){var a=[e("\u2116"),e("Shtrix kodi"),e("Mahsulot kategoriyasi"),e("Mahsulot kodi"),e("Mahsulot nomi"),e("Soni"),e("O'lchov birligi"),e("Kelish narxi USD"),e("Kelish narxi UZS"),e("Sotish narxi USD"),e("Sotish narxi UZS"),"Optom narxi USD","Optom narxi UZS","Minimum qiymat","ID"],n={search:{name:Qe.replace(/\s+/g," ").trim(),code:Ye.replace(/\s+/g," ").trim(),category:et.replace(/\s+/g," ").trim()}};t((0,p.Bd)(n)).then((function(e){var t=e.error,n=e.payload;if(!t)if((null===n||void 0===n?void 0:n.length)>0){var r=(0,w.map)(n,(function(e,t){var a,n,r,i,l,o,c,u,s,d,m;return{nth:t+1,barcode:(null===e||void 0===e||null===(a=e.productdata)||void 0===a?void 0:a.barcode)||"",category:(null===e||void 0===e||null===(n=e.category)||void 0===n?void 0:n.code)||"",code:(null===e||void 0===e||null===(r=e.productdata)||void 0===r?void 0:r.code)||"",name:(null===e||void 0===e||null===(i=e.productdata)||void 0===i?void 0:i.name)||"",total:(null===e||void 0===e?void 0:e.total)||"",unit:(null===e||void 0===e||null===(l=e.unit)||void 0===l?void 0:l.name)||"",incomingprice:(null===e||void 0===e||null===(o=e.price)||void 0===o?void 0:o.incomingprice)||"",incomingpriceuzs:(null===e||void 0===e||null===(c=e.price)||void 0===c?void 0:c.incomingpriceuzs)||"",sellingprice:(null===e||void 0===e||null===(u=e.price)||void 0===u?void 0:u.sellingprice)||"",sellingpriceuzs:(null===e||void 0===e||null===(s=e.price)||void 0===s?void 0:s.sellingpriceuzs)||"",tradeprice:(null===e||void 0===e||null===(d=e.price)||void 0===d?void 0:d.tradeprice)||"",tradepriceuzs:(null===e||void 0===e||null===(m=e.price)||void 0===m?void 0:m.tradepriceuzs)||"",minimumcount:(null===e||void 0===e?void 0:e.minimumcount)||"",id:(null===e||void 0===e?void 0:e._id)||""}}));(0,O.rD)(r,"Maxsulotlar",a)}else(0,x.Ug)("Jadvalda ma'lumot mavjud emas !","warning")}))}}),(0,C.jsx)(c.Z,{readExcel:function(e){["xls","xlsx"].includes(e.name.split(".").pop())?(oa(!0),new Promise((function(t,a){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var a=e.target.result,n=u.ij(a,{type:"buffer"}),r=n.SheetNames[0],i=n.Sheets[r],l=u.P6.sheet_to_json(i);t(l)},n.onerror=function(e){(0,x.Ug)("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430","error"),a(e)}})).then((function(e){e.length>0?(Wt(e),zt("import"),qa()):(0,x.Ug)("Jadvalda ma`lumot mavjud emas","error"),oa(!1)}))):(0,x.Ug)("Fayl formati noto'g'ri","error")}})]}),(0,C.jsx)("h3",{className:"text-blue-900 text-[xl] leading-[1.875rem]",children:e("Maxsulotlar")}),(0!==mt||0!==A)&&(0,C.jsx)(s.Z,{countPage:Number(rt),totalDatas:A||mt,currentPage:ct,setCurrentPage:ut})]}),(0,C.jsx)(N.Z,{filterBy:["total","barcode","category","code","name","doubleDate"],filterByCode:function(e){var a=e.target.value,n=a.replace(/\s+/g," ").trim();if($e(a),(V.length>0||A>0)&&t((0,p.rk)()),""===n)L(F),gt(_);else{var r=(0,w.filter)(F,(function(e){return e.productdata.code.includes(n)}));L(r),gt(r.length)}},filterByCodeAndNameAndCategoryWhenPressEnter:function(e){if("Enter"===e.key){ut(0);var n={currentPage:0,countPage:rt,search:{name:Qe.replace(/\s+/g," ").trim(),code:Ye.replace(/\s+/g," ").trim(),category:et.replace(/\s+/g," ").trim()},product:{code:le,name:se.replace(/\s+/g," ").trim(),unit:xe.value,market:a}};t((0,p.aR)(n))}},filterByName:function(e){var a=e.target.value,n=a.toLowerCase().replace(/\s+/g," ").trim();if(Ge(a),(V.length>0||A>0)&&t((0,p.rk)()),""===n)L(F),gt(_);else{var r=(0,w.filter)(F,(function(e){return e.productdata.name.toLowerCase().includes(n)}));L(r),gt(r.length)}},filterByTotal:function(e){var t=e.value;it(t),ut(0)},searchByCode:Ye,searchByName:Qe,searchByCategory:et,filterByCategory:function(e){var a=e.target.value,n=a.replace(/\s+/g," ").trim();if(tt(a),(V.length>0||A>0)&&t((0,p.rk)()),""===n)L(F),gt(_);else{var r=(0,w.filter)(F,(function(e){return e.category.code.includes(n)}));L(r),gt(r.length)}},barCode:Vt,filterByBarcode:function(e){var a=e.target.value,n=a.replace(/\s+/g," ").trim();if(Ht(a),(V.length>0||A>0)&&t((0,p.rk)()),""===n)L(F),gt(_);else{var r=(0,w.filter)(F,(function(e){var t;return null===(t=e.productdata)||void 0===t?void 0:t.barcode.includes(n)}));L(r),gt(r.length)}},filterByBarcodeWhenPressEnter:function(e){if("Enter"===e.key){ut(0);var n={currentPage:0,countPage:rt,search:{barcode:Vt.replace(/\s+/g," ").trim()},product:{code:le,name:se.replace(/\s+/g," ").trim(),unit:xe.value,market:a}};t((0,p.aR)(n))}}}),(0,C.jsx)("div",{className:"tableContainerPadding",children:T?(0,C.jsx)(g.Z,{}):0===J.length&&0===V.length?(0,C.jsx)(f.Z,{text:"Maxsulot mavjud emas"}):(0,C.jsx)(d.Z,{currencyType:q,headers:Ka,Edit:function(e,t){Ba(e),St(t),vt(!0)},Delete:function(e){var t=(0,r.Z)((0,r.Z)({},e),{},{currentPage:ct,countPage:rt,search:{name:Qe.replace(/\s+/g," ").trim(),code:Ye.replace(/\s+/g," ").trim(),category:et.replace(/\s+/g," ").trim()},name:se.replace(/\s+/g," ").trim(),productdata:e.productdata._id});Ut(t),zt("approve"),qa()},page:"product",data:V.length>0?V:J,Sort:function(e){if(e===aa.filter)switch(aa.count){case 1:na({filter:e,sort:"1",count:2}),(0,O.ki)(V.length>0?V:J,V.length>0?H:L,e,1,V.length>0?X:F);break;case 2:na({filter:e,sort:"",count:0}),(0,O.ki)(V.length>0?V:J,V.length>0?H:L,e,"",V.length>0?X:F);break;default:na({filter:e,sort:"-1",count:1}),(0,O.ki)(V.length>0?V:J,V.length>0?H:L,e,-1,V.length>0?X:F)}else na({filter:e,sort:"-1",count:1}),(0,O.ki)(V.length>0?V:J,V.length>0?H:L,e,-1,V?X:F,V.length>0)},sortItem:aa,currentPage:ct,countPage:rt,currency:q})}),(0,C.jsx)(U.Z,{onError:function(){(0,x.Ug)("Mahsulot kodi o'qilmadi!","warning")},onScan:function(e){ne(e.toString());var a={code:e};t((0,M.nR)(a)).then((function(e){if(e.error)return de("")}))}})]},"content")}}}]);
//# sourceMappingURL=1981.051768b3.chunk.js.map