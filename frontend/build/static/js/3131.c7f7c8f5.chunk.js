"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3131],{8774:function(t,e,i){i.r(e);var r=i(9439),n=i(2791),s=i(9434),a=i(7689),c=i(4339),o=i(7584),u=i(3168),l=i(5121),f=i(763),p=i(1295),d=i(2230),m=i(184);e.default=function(){var t=(0,u.$)(["common"]).t,e=(0,s.I0)(),i=(0,a.s0)(),g=(0,n.useState)({filter:"",sort:"",count:0}),k=(0,r.Z)(g,2),y=k[0],v=k[1],b=(0,s.v9)((function(t){return t.login})).market._id,h=(0,s.v9)((function(t){return t.currency})).currencyType,w=(0,s.v9)((function(t){return t.incoming})).temporaries,S=(0,n.useState)([]),Z=(0,r.Z)(S,2),_=Z[0],x=Z[1],A=(0,n.useState)([]),q=(0,r.Z)(A,2),j=q[0],C=q[1],P=(0,n.useState)(!1),z=(0,r.Z)(P,2),E=z[0],I=z[1],M=(0,n.useState)("approve"),$=(0,r.Z)(M,2),D=$[0],F=$[1],J=(0,n.useState)({}),N=(0,r.Z)(J,2),O=N[0],T=N[1],V=function(){I(!E),T({}),F("")},Y=(0,n.useCallback)((function(t){var e=function(t,e){return t.reduce((function(t,i){return t+i[e]}),0)},i=(0,f.map)(t,(function(t){var i=t._id,r=t.createdAt,n=t.temporaryincoming,s=n.supplier,a=n.incomings;return{_id:i,createdAt:r,supplier:s,incomings:{totalprice:e(a,"totalprice"),totalpriceuzs:e(a,"totalpriceuzs"),pieces:e(a,"pieces")},temporaries:a}}));x(i),C(i)}),[]);(0,n.useEffect)((function(){e((0,l.$C)({market:b}))}),[e,b]);(0,n.useEffect)((function(){Y(w)}),[w,Y]);var B=[{title:"\u2116",styles:"w-[8%]"},{title:t("Yetkazib beruvchi"),filter:"supplier.name",styles:""},{title:t("Maxsulotlar"),filter:"incomings.pieces",styles:"w-[10%]"},{title:t("Jami"),filter:"incomings.totalprice",styles:"w-[10%]"},{title:t("Sana"),filter:"createdAt",styles:"w-[10%]"},{title:t("Vaqti"),filter:"createdAt",styles:"w-[10%]"},{title:"",styles:"w-[10%]"}];return(0,m.jsxs)("div",{className:"tableContainerPadding grow mainPadding",children:[(0,m.jsx)(d.Z,{isOpen:E,body:D,printedIncomings:O,toggleModal:V}),_.length>0?(0,m.jsx)(c.Z,{page:"temporaryincoming",headers:B,data:_,currency:h,Edit:function(t){var r=(0,f.filter)(w,(function(e){return e._id===t._id}))[0];e((0,l.A3)({_id:t._id,incomings:r.temporaryincoming.incomings,supplier:t.supplier})),i("/maxsulotlar/qabul/qabulqilish")},Delete:function(t){e((0,l.PF)({_id:t._id}))},Sort:function(t){if(t===y.filter)switch(y.count){case 1:v({filter:t,sort:"1",count:2}),(0,o.ki)(_,x,t,1,j);break;case 2:v({filter:t,sort:"",count:0}),(0,o.ki)(_,x,t,"",j);break;default:v({filter:t,sort:"-1",count:1}),(0,o.ki)(_,x,t,-1,j)}else v({filter:t,sort:"-1",count:1}),(0,o.ki)(_,x,t,-1,j)},sortItem:y,Print:function(t){V(),F("savedincomingscheck"),T({createdAt:t.createdAt,temporaries:t.temporaries,supplier:t.supplier})}}):(0,m.jsx)(p.Z,{text:t("Saqlangan qabullar mavjud emas")})]})}}}]);
//# sourceMappingURL=3131.c7f7c8f5.chunk.js.map