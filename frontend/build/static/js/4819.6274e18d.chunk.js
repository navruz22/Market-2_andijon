"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4819],{2543:function(e,t,a){a.d(t,{Z:function(){return o}});a(2791);var r=a.p+"static/media/Excel.3a5a1731280185e0e4ae99ee0a4eebfc.svg",n=a(3168),i=a(184);var o=function(e){var t=e.onClick,a=(0,n.$)(["common"]).t;return(0,i.jsxs)("button",{className:"exportButton",onClick:t,children:[a("Eksport"),(0,i.jsx)("span",{className:"btn-icon bg-white-900 p-[8px]",children:(0,i.jsx)("img",{src:r,alt:"excel icon"})})]})}},2246:function(e,t,a){a.r(t);var r=a(1413),n=a(9439),i=a(2791),o=a(8063),l=a(7799),s=a(2987),c=a(4232),u=a(1295),g=a(9078),d=a(9434),f=a(6096),m=a(7584),h=a(2230),p=a(6408),v=a(2106),y=a(8862),x=a(5077),Z=a(3168),k=a(763),j=a(2543),C=a(184);t.default=function(){var e=(0,Z.$)(["common"]).t,t=[{title:e("\u2116"),styles:"w-[10%]"},{title:e("Kategoriya kodi"),filter:"code"},{title:e("Kategoriya nomi"),filter:"name"},{title:"Sotilganlar soni",filter:"totalproducts"},{title:"Sotilganlar Jami",filter:"totalsales"},{title:"Sof foyda",filter:"profit"},{title:"",styles:"w-[15%]"}],a=(0,d.I0)(),D=(0,d.v9)((function(e){return e.category})),S=D.categories,P=D.errorGetCategories,w=D.searchedCategories,b=D.loading,E=D.total,N=D.totalSearched,K=D.errorAddCategory,M=D.successAddCategory,B=D.successUpdateCategory,U=D.errorUpdateCategory,A=D.successDeleteCategory,W=D.errorDeleteCategory,X=(0,i.useState)(S),q=(0,n.Z)(X,2),F=q[0],T=q[1],Y=(0,i.useState)(w),_=(0,n.Z)(Y,2),z=_[0],G=_[1],I=(0,i.useState)(""),J=(0,n.Z)(I,2),L=J[0],O=J[1],$=(0,i.useState)(""),R=(0,n.Z)($,2),H=R[0],Q=R[1],V=(0,i.useState)(""),ee=(0,n.Z)(V,2),te=ee[0],ae=ee[1],re=(0,i.useState)(""),ne=(0,n.Z)(re,2),ie=ne[0],oe=ne[1],le=(0,i.useState)("10"),se=(0,n.Z)(le,2),ce=se[0],ue=se[1],ge=(0,i.useState)(0),de=(0,n.Z)(ge,2),fe=de[0],me=de[1],he=(0,i.useState)(E),pe=(0,n.Z)(he,2),ve=pe[0],ye=pe[1],xe=(0,i.useState)(!1),Ze=(0,n.Z)(xe,2),ke=Ze[0],je=Ze[1],Ce=(0,i.useState)({filter:"",sort:"",count:0}),De=(0,n.Z)(Ce,2),Se=De[0],Pe=De[1],we=(0,i.useState)(null),be=(0,n.Z)(we,2),Ee=be[0],Ne=be[1],Ke=(0,i.useState)(null),Me=(0,n.Z)(Ke,2),Be=Me[0],Ue=Me[1],Ae=(0,i.useState)(!1),We=(0,n.Z)(Ae,2),Xe=We[0],qe=We[1],Fe=(0,i.useState)(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),Te=(0,n.Z)(Fe,2),Ye=Te[0],_e=Te[1],ze=(0,i.useState)(new Date),Ge=(0,n.Z)(ze,2),Ie=Ge[0],Je=Ge[1],Le=function(){return qe(!Xe)},Oe=function(){qe(!1),Ue(null)},$e=function(e){e&&e.preventDefault(),O(""),Q(""),Ne(null),je(!1)};return(0,i.useEffect)((function(){P&&((0,v.w4)(),a((0,y.Xg)())),K&&((0,v.Ug)(K,"error"),a((0,y.k7)())),M&&((0,v.wG)(),a((0,y.W0)()),$e()),B&&((0,v.fE)(),a((0,y.rR)()),$e()),U&&((0,v.Ug)(U,"error"),a((0,y.tM)())),W&&((0,v.Ug)(W,"error"),a((0,y.pf)())),A&&((0,v.c_)(),a((0,y.jX)()))}),[a,P,K,M,B,U,W,A]),(0,i.useEffect)((function(){var e={currentPage:fe,countPage:ce,search:{name:ie.replace(/\s+/g," ").trim(),code:te.replace(/\s+/g," ").trim()},startDate:Ye,endDate:Ie};a((0,y.CP)(e))}),[fe,ce,a,Ye,Ie]),(0,i.useEffect)((function(){T(S)}),[S]),(0,i.useEffect)((function(){ye(E)}),[E]),(0,i.useEffect)((function(){G(w)}),[w]),(0,C.jsxs)(p.E.section,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.8,ease:[.04,.62,.23,.98]},children:[(0,C.jsx)(h.Z,{body:"approve",toggleModal:Le,headerText:"".concat(Be&&Be.code," - ").concat(e("kategoriyani o`chirishni tasdiqlaysizmi?")),title:e("O`chirilgan kategoriyalarni tiklashning imkoni mavjud emas!"),approveFunction:function(){a((0,y.uu)(Be)),Oe()},closeModal:Oe,isOpen:Xe}),(0,C.jsx)("form",{className:"flex gap-[1.25rem] bg-background flex-col mainPadding transition ease-linear duration-200 ".concat(ke?"stickyForm":""),children:(0,C.jsxs)("div",{className:"supplier-style",children:[(0,C.jsx)(o.Z,{value:L,onChange:function(e){var t=e.target.value;f.y.test(t)&&O(t)},label:e("Kategoriya kodi"),placeholder:"".concat(e("misol"),": 000000"),maxWidth:"w-[9rem]",border:!0}),(0,C.jsx)(o.Z,{value:H,label:e("Kategoriya nomi"),placeholder:e("misol: Alo24"),maxWidth:"w-[29rem]",type:"string",onChange:function(e){Q(e.target.value)}}),(0,C.jsxs)("div",{className:"flex gap-[1.25rem] grow",children:[(0,C.jsx)(l.Z,{onClick:ke?function(t){t.preventDefault();var r=(0,m.lj)([{value:L,message:e("Kategoriya kodi")},{value:H,message:e("Kategoriya nomi")}]),n=r.failed,i=r.message;if(n)(0,v.pM)(i);else{var o={currentPage:fe,countPage:ce,search:{name:ie.replace(/\s+/g," ").trim(),code:te.replace(/\s+/g," ").trim()},category:{name:H,code:L,_id:Ee._id}};a((0,y.yr)(o))}}:function(t){t.preventDefault();var r=(0,m.lj)([{value:L,message:e("Kategoriya kodi")},{value:H,message:e("Kategoriya nomi")}]),n=r.failed,i=r.message;if(n)(0,v.pM)(i);else{var o={currentPage:fe,countPage:ce,category:{name:H,code:L},search:{name:ie.replace(/\s+/g," ").trim(),code:te.replace(/\s+/g," ").trim()}};a((0,y.i8)(o))}},add:!ke,edit:ke,text:e(ke?"Saqlash":"Yangi kategoriya qo`shish")}),(0,C.jsx)(l.Z,{onClick:$e,text:e("Tozalash")})]})]})}),(0,C.jsxs)("div",{className:"pagination-supplier mainPadding",children:[(0,C.jsx)(j.Z,{onClick:function(){if((null===F||void 0===F?void 0:F.length)>0){var e=(0,k.map)(F,(function(e,t){return{nth:t+1,code:(null===e||void 0===e?void 0:e.code)||"",name:(null===e||void 0===e?void 0:e.name)||""}}));(0,m.rD)(e,"Kategoriyalar",["\u2116","Kodi","Nomi"])}else(0,v.Ug)("Jadvalda ma'lumot mavjud emas !","warning")}}),(0,C.jsx)("p",{className:"supplier-title",children:e("Kategoriyalar")}),(0!==ve||0!==N)&&(0,C.jsx)(x.Z,{countPage:Number(ce),totalDatas:N||ve,currentPage:fe,setCurrentPage:me})]}),(0,C.jsx)(s.Z,{filterBy:["total","category","name","startDate","endDate"],filterByTotal:function(e){var t=e.value;ue(t),me(0)},filterByCategory:function(e){var t=e.target.value,r=t.replace(/\s+/g," ").trim();if(ae(t),(z.length>0||N>0)&&a((0,y.rX)()),""===r)T(S),ye(E);else{var n=(0,k.filter)(S,(function(e){return e.code.includes(r)}));T(n),ye(n.length)}},filterByName:function(e){var t=e.target.value,r=t.toLowerCase().replace(/\s+/g," ").trim();if(oe(t),(z.length>0||N>0)&&a((0,y.rX)()),""===r)T(S),ye(E);else{var n=(0,k.filter)(S,(function(e){return e.name&&e.name.toLowerCase().includes(r)}));T(n),ye(n.length)}},filterByCodeAndNameAndCategoryWhenPressEnter:function(e){if("Enter"===e.key){me(0);var t={currentPage:0,countPage:ce,search:{name:ie.replace(/\s+/g," ").trim(),code:te.replace(/\s+/g," ").trim()}};a((0,y.Yl)(t))}},startDate:Ye,setStartDate:_e,endDate:Ie,setEndDate:Je}),(0,C.jsx)("div",{className:"tableContainerPadding",children:b?(0,C.jsx)(c.Z,{}):0===F.length&&0===z.length?(0,C.jsx)(u.Z,{text:e("Maxsulot mavjud emas")}):(0,C.jsx)(g.Z,{headers:t,Edit:function(e){Ne(e),O(e.code),Q(e.name),je(!0)},Delete:function(e){var t=(0,r.Z)((0,r.Z)({},e),{},{currentPage:fe,countPage:ce,search:{name:ie.replace(/\s+/g," ").trim(),code:te.replace(/\s+/g," ").trim()}});Ue(t),Le()},page:"category",data:z.length>0?z:F,Sort:function(e){if(e===Se.filter)switch(Se.count){case 1:Pe({filter:e,sort:"1",count:2}),(0,m.ki)(z.length>0?z:F,z.length>0?G:T,e,1,z.length>0?w:S);break;case 2:Pe({filter:e,sort:"",count:0}),(0,m.ki)(z.length>0?z:F,z.length>0?G:T,e,"",z.length>0?w:S);break;default:Pe({filter:e,sort:"-1",count:1}),(0,m.ki)(z.length>0?z:F,z.length>0?G:T,e,-1,z.length>0?w:S)}else Pe({filter:e,sort:"-1",count:1}),(0,m.ki)(z.length>0?z:F,z.length>0?G:T,e,-1,z?w:S,z.length>0)},sortItem:Se,currentPage:fe,countPage:ce,startDate:Ye,endDate:Ie})})]},"content")}}}]);
//# sourceMappingURL=4819.6274e18d.chunk.js.map