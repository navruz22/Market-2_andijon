"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6987],{5692:function(e,t,a){a.d(t,{Z:function(){return f}});var n=a(71),r=(a(2791),a(184)),i=function(e){var t=e.onClick,a=e.text,i=e.type,l=e.active,s={cash:(0,r.jsx)(n.OR0,{className:"paymentsstyle",size:"1.3125rem"}),card:(0,r.jsx)(n.RjO,{className:"paymentsstyle",size:"1.3125rem"}),transfer:(0,r.jsx)(n.g2P,{className:"paymentsstyle",size:"1.3125rem"}),mixed:(0,r.jsx)(n.qTT,{className:"paymentsstyle",size:"1.3125rem"})};return(0,r.jsxs)("button",{onClick:function(){return t(i)},className:"salestyle ".concat(l?"bg-primary-700 text-white-900":"bg-[#E9ECEB]"),children:[s[i],a]})},l=function(e){var t=e.onClick,a=e.text,i=e.onDoubleClick;return(0,r.jsxs)("button",{onClick:t,onDoubleClick:i,className:"paymentstyle grow",children:[(0,r.jsx)(n.Q84,{className:"paystyle",size:"1.3125rem"}),a]})},s=a(9434);a(1413);var u=function(e){var t=e.value,a=e.onChange;return e.option,e.onSelect,(0,s.v9)((function(e){return e.currency})).currencyType,(0,r.jsx)("div",{className:"flex w-[11.75rem] border border-warning-500 rounded-[0.25rem] outline outline-transparent outline-0 focus-within:outline-2 focus-within:outline-warning-500 transition-all ease-in-out duration-100 relative",children:(0,r.jsx)("input",{className:"w-full placeholder-blue-200 py-[0.3125rem] px-[.3125rem] rounded-[0.25rem] outline-0 text-sm text-right transition-all ease-in-out duration-100",placeholder:"misol: 100 000 000",type:"number",value:t,onChange:function(e){a(e.target.value)},onWheel:function(e){return e.target.blur()},min:0})})},c=function(e){var t=e.value,a=e.onChange,n=e.option,i=e.onSelect,l=e.type,s=e.label;return(0,r.jsxs)("div",{className:"flex justify-between w-full items-center mb-[1rem]",children:[(0,r.jsxs)("div",{className:"text-black-700 text-[0.875rem]",children:[s,":"]}),(0,r.jsx)(u,{onChange:function(e){return a(e,l)},onSelect:i,value:t,option:n})]})},o=a(4952),m=function(e){var t=e.onClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{onClick:t,className:"exitbtn",children:(0,r.jsx)(n.Lp2,{size:"0.75rem"})})})};var d=function(e){var t=e.mix,a=e.value,n=e.onChange,i=e.label,l=e.onClose,s=e.keyInput,u=e.placeholder,c=e.type;return(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[i," :"]}),(0,r.jsxs)("div",{className:"flex items-center w-[11.75rem] gap-[0.625rem]",children:[(0,r.jsx)(o.Z,{placeholder:u||"misol: 100 000 000",type:c||"number",value:a,onChange:function(e){n(e.target.value,s)}}),t&&(0,r.jsx)(m,{onClick:function(){return l(s)}})]})]})},p=a(8825),h=a(7689),b=a(2932),x=a(7584);var f=function(e){var t=e.returned,a=e.active,u=e.togglePaymentModal,o=e.type,m=void 0===o?"cash":o,f=e.cash,g=void 0===f?"":f,v=e.card,y=void 0===v?"":v,N=e.transfer,j=void 0===N?"":N,k=e.discount,C=e.discountUzs,Z=e.hasDiscount,S=e.debt,z=e.allPayment,w=e.allPaymentUzs,U=e.paid,D=void 0===U?0:U,_=e.client,q=void 0===_?"":_,P=e.onChange,T=e.onClose,M=e.changePaymentType,Y=e.discountSelectOption,E=(e.handleClickDiscountBtn,e.handleChangeDiscountSelectOption),X=e.handleChangeDiscount,I=(e.exchangerate,e.handleClickPay),O=e.allMainPayment,H=e.saleComment,F=e.changeComment,Q=e.onDoubleClick,A=e.paymentUsd,B=void 0===A?"":A,J=e.debtuzs,K=e.debtType,R=e.setDebtType,L=(0,h.TH)(),G=function(){switch(m){case"card":return(0,r.jsx)(d,{value:y,keyInput:m,onChange:P,onClose:T,label:(0,p.t)("Plastik")},"sale-card1");case"transfer":return(0,r.jsx)(d,{value:j,keyInput:m,onChange:P,onClose:T,label:(0,p.t)("O`tkazma")},"sale-transfer");case"mixed":return[{label:(0,p.t)("USD"),key:"usd",value:B},{label:(0,p.t)("Naqd"),key:"cash",value:g},{label:(0,p.t)("Plastik"),key:"card",value:y},{label:(0,p.t)("O`tkazma"),key:"transfer",value:j}].map((function(e){return(0,r.jsx)(d,{value:e.value,keyInput:e.key,onChange:P,onClose:T,label:(0,p.t)(e.label)},"sale-".concat(e.key))}));default:return L.pathname.includes("/kassa/debts")?"sum"===K?(0,r.jsx)(d,{value:g,onChange:P,keyInput:m,onClose:T,label:(0,p.t)("Naqd")},"sale-cash"):(0,r.jsx)(d,{value:B,onChange:P,keyInput:"usd",onClose:T,label:(0,p.t)("USD")},"sale-usd"):(0,r.jsxs)(r.Fragment,{children:["mixed"!==m&&(0,r.jsx)(d,{value:B,onChange:P,keyInput:"usd",onClose:T,label:(0,p.t)("USD")},"sale-usd"),(0,r.jsx)(d,{value:g,onChange:P,keyInput:m,onClose:T,label:(0,p.t)("Naqd")},"sale-cash")]})}},V=(0,s.v9)((function(e){return e.currency})),W=V.currencyType;return V.currency,(0,r.jsxs)("section",{className:"absolute transition-all left-0 top-0 right-0 bottom-0 overflow-hidden duration-200 ease-out bg-black-300 backdrop-blur-[3px] z-20 ".concat(a?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:u,children:[(0,r.jsx)("h3",{className:"text-white-900 text-lg leading-[1.875rem absolute top-[50%] left-[35%] -translate-x-[50%]",children:(0,p.t)("Oynani yopish uchun bu yerga bosing !")}),(0,r.jsxs)("div",{className:"customerPay-head-style transition-all duration-200 ease-linear h-full overflow-auto absolute top-0 bottom-0 right-0 ".concat(a?"translate-x-0":"translate-x-full"),onClick:function(e){return e.stopPropagation()},autoFocus:!0,children:[(0,r.jsxs)("div",{className:"top-payment w-full",children:[q&&(0,r.jsxs)("div",{className:"customer-head-icon",children:[(0,r.jsxs)("div",{className:"flex items-center custom-payment-text-style",children:[(0,r.jsx)(n.J4e,{className:"mr-[0.75rem]"}),(0,r.jsxs)("span",{children:[(0,p.t)("Mijoz")," : "]})]}),(0,r.jsx)("h3",{className:"text-[0.875rem]",children:q})]}),(0,r.jsx)("div",{className:"mb-[1.25rem] font-medium text-[1.25rem] text-center leading-[23.44px]",children:L.pathname.includes("/kassa/debts")?"dollar"===K?z+" USD":w+" UZS":Number(O)+" UZS"}),(0,r.jsxs)("ul",{className:"w-full pb-[1.25rem]",children:[!t&&G(),(L.pathname.includes("/kassa/debts")||L.pathname.includes("/qarzdorlar")||L.pathname.includes("/maxsulotlar/qabul/qabulqilish")||L.pathname.includes("/maxsulotlar/qabul/qabullar"))&&G(),(0,r.jsx)(d,{value:H,keyInput:m,onChange:F,onClose:T,label:(0,p.t)("Izoh"),placeholder:(0,p.t)("misol: qarzga olindi"),type:"text"},"sale-card"),Z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{value:k,onChange:X,option:Y,onSelect:E,label:"Chegirma USD",type:"usd"}),(0,r.jsx)(c,{value:C,onChange:X,option:Y,onSelect:E,label:"Chegirma UZS",type:"uzs"})]}),L.pathname.includes("/kassa/debts")?"sum"===K?(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[(0,p.t)("Qarzlar")," :"," "]}),(0,r.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[J," UZS"]})]}):(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[(0,p.t)("Qarzlar")," :"," "]}),(0,r.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[(0,x.Y2)(S)," USD ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})]}):(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[(0,p.t)("Qarzlar")," :"," "]}),(0,r.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[Math.round(1e3*S)/1e3," USD ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),J," UZS"]})]}),L.pathname.includes("/kassa/debts")&&(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[(0,p.t)("Qarz")," :"," "]}),(0,r.jsxs)("h3",{className:"text-error-500 text-[1rem] flex items-center gap-2",children:[(0,r.jsx)(b.Z,{id:"debt",onChange:function(){return R("dollar")},value:"dollar"===K,label:(0,p.t)("USD")}),(0,r.jsx)(b.Z,{id:"debt2",onChange:function(){return R("sum")},value:"sum"===K,label:(0,p.t)("UZS")})]})]}),(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[z<0?(0,p.t)("Qaytarilayotgan"):(0,p.t)("To`lanayotgan")," ",":"," "]}),(0,r.jsxs)("h3",{className:"text-[1rem] text-loginButton",children:[D.toLocaleString("ru-Ru")," ",W]})]})]})]}),(0,r.jsxs)("div",{className:"bottom-payment w-full flex flex-col gap-[1.25rem] border-t-[1px] border-black-200 pt-[1.25rem]",children:[(0,r.jsxs)("div",{className:"custom-paymet-btn",children:[(0,r.jsx)(i,{text:(0,p.t)("Naqd"),type:"cash",active:"cash"===m,onClick:M}),(0,r.jsx)(i,{text:(0,p.t)("Plastik"),type:"card",active:"card"===m,onClick:M}),(0,r.jsx)(i,{text:(0,p.t)("O'tkazma"),type:"transfer",active:"transfer"===m,onClick:M}),!t&&(0,r.jsx)(i,{text:(0,p.t)("Aralash"),type:"mixed",active:"mixed"===m,onClick:M})]}),(0,r.jsx)(l,{text:(0,p.t)("To'lash"),onClick:I,onDoubleClick:Q})]})]})]})}},4927:function(e,t,a){a.r(t);var n=a(7762),r=a(1413),i=a(3433),l=a(9439),s=a(2791),u=a(9434),c=a(8309),o=a(9078),m=a(5121),d=a(7129),p=a(9403),h=a(2230),b=a(7584),x=a(7689),f=a(3168),g=a(763),v=a(2106),y=a(5692),N=a(1338),j=a(184);t.default=function(){var e=(0,f.$)(["common"]).t,t=(0,u.I0)(),a=(0,x.s0)(),k=(0,u.v9)((function(e){return e.login})),C=k.market._id,Z=k.user,S=(0,u.v9)((function(e){return e.currency})),z=S.currency,w=S.currencyType,U=(0,u.v9)((function(e){return e.incoming})),D=U.suppliers,_=U.products,q=U.successAdd,P=U.successTemporary,T=U.temporary,M=U.loading,Y=(0,s.useState)([]),E=(0,l.Z)(Y,2),X=E[0],I=E[1],O=(0,s.useState)([]),H=(0,l.Z)(O,2),F=H[0],Q=H[1],A=(0,s.useState)({}),B=(0,l.Z)(A,2),J=B[0],K=B[1],R=(0,s.useState)([]),L=(0,l.Z)(R,2),G=L[0],V=L[1],W=(0,s.useState)({}),$=(0,l.Z)(W,2),ee=$[0],te=$[1],ae=(0,s.useState)([]),ne=(0,l.Z)(ae,2),re=ne[0],ie=ne[1],le=(0,s.useState)(""),se=(0,l.Z)(le,2),ue=se[0],ce=se[1],oe=(0,s.useState)(""),me=(0,l.Z)(oe,2),de=me[0],pe=me[1],he=(0,s.useState)(!1),be=(0,l.Z)(he,2),xe=be[0],fe=be[1],ge=(0,s.useState)("cash"),ve=(0,l.Z)(ge,2),ye=ve[0],Ne=ve[1],je=(0,s.useState)(""),ke=(0,l.Z)(je,2),Ce=ke[0],Ze=ke[1],Se=(0,s.useState)(""),ze=(0,l.Z)(Se,2),we=ze[0],Ue=ze[1],De=(0,s.useState)(""),_e=(0,l.Z)(De,2),qe=_e[0],Pe=_e[1],Te=(0,s.useState)(""),Me=(0,l.Z)(Te,2),Ye=Me[0],Ee=Me[1],Xe=(0,s.useState)(""),Ie=(0,l.Z)(Xe,2),Oe=Ie[0],He=Ie[1],Fe=(0,s.useState)(""),Qe=(0,l.Z)(Fe,2),Ae=Qe[0],Be=Qe[1],Je=(0,s.useState)(0),Ke=(0,l.Z)(Je,2),Re=Ke[0],Le=Ke[1],Ge=(0,s.useState)(0),Ve=(0,l.Z)(Ge,2),We=Ve[0],$e=Ve[1],et=(0,s.useState)(0),tt=(0,l.Z)(et,2),at=tt[0],nt=tt[1],rt=(0,s.useState)(0),it=(0,l.Z)(rt,2),lt=it[0],st=it[1],ut=(0,s.useState)(0),ct=(0,l.Z)(ut,2),ot=ct[0],mt=ct[1],dt=(0,s.useState)(0),pt=(0,l.Z)(dt,2),ht=pt[0],bt=pt[1],xt=(0,s.useState)("registerincomingbody"),ft=(0,l.Z)(xt,2),gt=ft[0],vt=ft[1],yt=(0,s.useState)(!1),Nt=(0,l.Z)(yt,2),jt=Nt[0],kt=Nt[1],Ct=(0,s.useState)(z),Zt=(0,l.Z)(Ct,2),St=Zt[0],zt=Zt[1],wt=(0,s.useState)(""),Ut=(0,l.Z)(wt,2),Dt=Ut[0],_t=Ut[1],qt=null,Pt=function(e){pe({label:e.label,value:e.value}),G.some((function(t){return t._id===e.value&&t.supplier._id===J._id}))?(0,v.Ug)("Diqqat mahsulot ro'yxatda mavjud","warning"):Tt(e.value)},Tt=function(e,t){var a=(0,i.Z)((0,g.filter)((0,i.Z)(_),(function(t){return t._id===e})))[0];te({_id:a._id,oldprice:a.price.incomingprice,oldpriceuzs:a.price.incomingpriceuzs,product:(0,r.Z)((0,r.Z)({},a.productdata),{},{_id:a._id}),pieces:"",unitprice:"",unitpriceuzs:"",totalprice:"",totalpriceuzs:"",user:Z._id,unit:a.unit,sellingprice:a.price.sellingprice,sellingpriceuzs:a.price.sellingpriceuzs,tradeprice:a.price.tradeprice,tradepriceuzs:a.price.tradepriceuzs,procient:"",supplier:(0,r.Z)({},J)}),vt("registerincomingbody"),kt(!0)},Mt=function(e,t,a){var n,l=Number(e.target.value),s=function(e){return t===e},u=!a&&(0,r.Z)({},ee)||(0,r.Z)({},(0,g.filter)((0,i.Z)(G),(function(e){return e._id===a}))[0]),c="USD"===w?l:(0,b.Nt)(l,z),o="UZS"===w?l:(0,b.uX)(l,z),m=function(e){return"UZS"===w?Math.round(e/100*l)+e:Math.round(e/100*l*1e3)/1e3+e};s("pieces")&&((n=u).pieces=l,n.totalprice=(0,b.Y2)(l*n.unitprice),n.totalpriceuzs=(0,b.ei)(l*n.unitpriceuzs)),s("unitprice")&&function(e){e.unitprice=(0,b.Nt)(l,z),e.unitpriceuzs=l,e.totalprice=(0,b.Y2)((0,b.Nt)(l,z)*e.pieces),e.totalpriceuzs=(0,b.ei)(l*e.pieces)}(u),s("unitpriceusd")&&function(t){t.unitprice=e.target.value,t.unitpriceuzs=(0,b.uX)(e.target.value,z),t.totalprice=(0,b.Y2)(e.target.value*t.pieces),t.totalpriceuzs=(0,b.ei)((0,b.uX)(e.target.value,z)*t.pieces)}(u),s("sellingprice")&&function(t){t.sellingprice=(0,b.Nt)(e.target.value,z),t.sellingpriceuzs=e.target.value,t.procient=0}(u),s("sellingpriceusd")&&function(t){t.sellingprice=e.target.value,t.sellingpriceuzs=(0,b.uX)(e.target.value,z),t.procient=0}(u),s("procient")&&function(e){e.procient=l,e.sellingprice=m(e.unitprice),e.sellingpriceuzs=m(e.unitpriceuzs)}(u),s("tradeprice")&&function(e){e.tradeprice=c,e.tradepriceuzs=o}(u),a?V((0,i.Z)((0,g.map)((0,i.Z)(G),(function(e){return e._id===a?u:e})))):te(u)},Yt=function(t){return Number(t.pieces)<1?(0,v.Ug)(e("Mahsulot sonini kiriting!"),"warning"):Number(t.unitprice)<.01?(0,v.Ug)(e("Mahsulot qabul narxini kiriting!"),"warning"):Number(t.sellingprice)<Number(t.unitprice)&&(0,v.Ug)(e("Sotish narxi olish narxidan kam bo'lmasin"),"warning")},Et=function(){T.incomings&&T.incomings.length>0&&re.length>0&&(t((0,m.PF)({_id:T._id})),t((0,m.yu)()))},Xt=[{title:e("\u2116"),styles:"w-[8%]"},{title:e("Kodi"),styles:"w-[10%]"},{title:e("Nomi")},{title:e("Soni"),styles:"w-[10%]"},{title:e("Narxi"),styles:"w-[10%]"},{title:e("Avvalgi narxi"),styles:"w-[15%]"},{title:e("Jami"),styles:"w-[15%]"},{title:e("Sotish"),styles:"w-[15%]"},{title:"Optom narx",styles:"w-[15%]"},{title:"",styles:"w-[5%]"}],It=function(){kt(!jt),pe(""),setTimeout((function(){vt("")}),500)},Ot=function(e,t){var a=Math.abs(at),n=Math.abs(lt);if("USD"===w)if("cash"===t){var r=Number(e)+Number(qe)+Number(Oe),i=Number((0,b.uX)(e,St))+Number(Ye)+Number(Ae);r<=a?(Ze(e),Ue((0,b.uX)(e,St)),Le((0,b.Y2)(a-r)),$e((0,b.ei)(n-i)),mt(r),bt(i)):(0,v.bH)()}else if("card"===t){var l=Number(e)+Number(Ce)+Number(Oe),s=Number(we)+Number((0,b.uX)(e,St))+Number(Ae);l<=a?(Pe(e),Ee((0,b.uX)(e,St)),Le((0,b.Y2)(a-l)),$e((0,b.ei)(n-s)),mt(l),bt(s)):(0,v.bH)()}else{var u=Number(e)+Number(Ce)+Number(qe),c=Number(we)+Number(Ye)+Number((0,b.uX)(e,St));u<=a?(He(e),Be((0,b.uX)(e,St)),Le((0,b.Y2)(a-u)),$e((0,b.ei)(n-c)),mt(u),bt(c)):(0,v.bH)()}else if("cash"===t){var o=Number(e)+Number(Ye)+Number(Ae),m=Number((0,b.Nt)(e,St))+Number(qe)+Number(Oe);o<=n?(Ue(e),Ze((0,b.Nt)(e,St)),Le((0,b.Y2)(a-m)),$e((0,b.ei)(n-o)),mt(m),bt(o)):(0,v.bH)()}else if("card"===t){var d=Number(e)+Number(we)+Number(Ae),p=Number(Ce)+Number((0,b.Nt)(e,St))+Number(Oe);d<=n?(Pe((0,b.Nt)(e,St)),Ee(e),Le((0,b.Y2)(a-p)),$e((0,b.ei)(n-d)),mt((0,b.Nt)(d,St)),bt(d)):(0,v.bH)()}else{var h=Number(e)+Number(we)+Number(Ye),x=Number(Ce)+Number(qe)+Number((0,b.Nt)(e,St));h<=n?(He((0,b.Nt)(e,St)),Be(e),Le((0,b.Y2)(a-x)),$e((0,b.ei)(n-h)),mt(x),bt(h)):(0,v.bH)()}},Ht=function(){if(!M){var e=(0,g.map)(G,(function(e){var t=(0,r.Z)({},e);return delete t._id,delete t.procient,t}));t((0,m.PV)({products:(0,i.Z)(e),user:Z._id,payment:{totalprice:Number(at),totalpriceuzs:Number(lt),type:ye,cash:Number(Ce),cashuzs:Number(we),card:Number(qe),carduzs:Number(Ye),transfer:Number(Oe),transferuzs:Number(Ae)}})).then((function(e){var n=e.error;Et(),t((0,m.Xp)()),!n&&a("/maxsulotlar/qabul/qabullar")}))}};return(0,s.useEffect)((function(){D.length<1&&t((0,m.yn)(C)),D.length>0&&function(e){var t=(0,g.map)(e,(function(e){return{label:e.name,value:e._id}}));I(t)}(D)}),[t,C,D]),(0,s.useEffect)((function(){_.length<1&&t((0,m.Xp)({market:C})),_.length>0&&function(e){var t=(0,g.map)(e,(function(e){return{label:e.productdata.code+" - "+e.productdata.name,value:e._id,barcode:e.productdata.barcode}}));Q(t)}(_)}),[t,C,_]),(0,s.useEffect)((function(){q&&(V([]),t((0,m.EY)()))}),[t,q]),(0,s.useEffect)((function(){P&&(V([]),t((0,m.l8)()))}),[t,P]),(0,s.useEffect)((function(){Object.keys(T).length>0&&(K(T.supplier),V(T.incomings),ie(T.incomings),ce({label:T.supplier.name,value:T.supplier._id}))}),[T,t]),(0,s.useEffect)((function(){return function(){t((0,m.yu)()),V([]),ie([]),K({})}}),[t]),(0,j.jsxs)(j.Fragment,{children:[M&&(0,j.jsx)("div",{className:"absolute top-0 left-0 z-30",children:(0,j.jsx)(N.Z,{})}),(0,j.jsxs)("div",{className:"relative grow overflow-auto",children:[(0,j.jsx)(y.Z,{returned:!0,type:ye,active:xe,togglePaymentModal:function(e){fe(e?!xe:e),Ne("cash"),Le(0),$e(0)},changePaymentType:function(e){if(ye!==e)switch(Ne(e),e){case"cash":Ze(at),Ue(lt),Pe(""),Ee(""),He(""),Be(""),mt(at),bt(lt),Le(0),$e(0);break;case"card":Pe(at),Ee(lt),Ze(""),Ue(""),He(""),Be(""),mt(at),bt(lt),Le(0),$e(0);break;case"transfer":He(at),Be(lt),Ze(""),Ue(""),Pe(""),Ee(""),mt(at),bt(lt),Le(0),$e(0);break;default:Ze(""),Ue(""),Pe(""),Ee(""),He(""),Be(""),mt(0),bt(0),Le(at),$e(lt)}},onChange:function(e,t){Ot(e,t)},client:"",allPayment:"USD"===w?at:lt,card:"USD"===w?qe:Ye,cash:"USD"===w?Ce:we,debt:"USD"===w?Re:We,hasDiscount:!1,transfer:"USD"===w?Oe:Ae,paid:"USD"===w?ot:ht,handleClickPay:function(){null===qt&&(qt=window.setTimeout((function(){qt=null,vt("complete"),kt(!0)}),300))},changeComment:function(e){_t(e)},saleComment:Dt,onDoubleClick:function(){M||(window.clearTimeout(qt),qt=null,Ht())}}),(0,j.jsxs)("div",{className:"flex items-center mainPadding",children:[(0,j.jsx)("div",{className:"w-full pr-[1.25rem] border-r border-blue-100",children:(0,j.jsx)(c.Z,{options:X,onSelect:function(e){ce({label:e.label,value:e.value}),K.apply(void 0,(0,i.Z)((0,g.filter)((0,i.Z)(D),(function(t){return t._id===e.value})))),G.length>0&&V((0,i.Z)((0,g.map)((0,i.Z)(G),(function(t){return(0,r.Z)((0,r.Z)({},t),{},{supplier:{_id:e.value,name:e.label}})}))))},value:ue,placeholder:e("Yetkazib beruvchi")})}),(0,j.jsx)("div",{className:"w-full pl-[1.25rem]",children:(0,j.jsx)(c.Z,{value:de,options:F,onSelect:Pt,isDisabled:!J._id,placeholder:e("Maxsulotlar")})})]}),(0,j.jsxs)("p",{className:"text-[1.25rem] text-blue-900 mainPadding",children:[e("Yetkazib beruvchi"),": ",J.name]}),(0,j.jsxs)("div",{className:"".concat(G.length>0?"tableContainerPadding":"hidden"),children:[(0,j.jsx)(o.Z,{page:"registerincoming",headers:Xt,data:G,currency:w,changeHandler:Mt,Delete:function(e){var a=(0,g.filter)(G,(function(t){return t._id!==e._id}));V(a);var n=(0,g.filter)(re,(function(t){return t._id!==e._id}));ie(n),0===n.length&&t((0,m.yu)())}}),(0,j.jsxs)("div",{className:"flex items-center justify-end gap-[0.625rem] pt-[1.25rem]",children:[(0,j.jsx)(p.G,{text:e("Saqlash"),onClick:function(){Et(),t((0,m.Cz)({market:C,temporaryincoming:{supplier:J,incomings:G}})).then((function(t){t.error||(ce({label:e("Yetkazib beruvchi"),value:""}),pe({label:e("Mahsulotlar"),value:""}),a("/maxsulotlar/qabul/saqlanganlar"))}))}}),(0,j.jsx)(p.J,{text:e("Tasdiqlash"),onClick:function(){if(!function(t){var a,r=(0,n.Z)(t);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(i.pieces<1)return(0,v.Ug)(e("Mahsulot sonini kiriting!"),"warning");if(i.unitprice<.01)return(0,v.Ug)(e("Mahsulot qabul narxini kiriting!"),"warning");if(i.sellingprice<i.unitprice)return(0,v.Ug)(e("Sotish narxi olish narxidan kam bo'lmasin"),"warning")}}catch(l){r.e(l)}finally{r.f()}return!1}((0,g.map)(G,(function(e){var t=(0,r.Z)({},e);return delete t._id,delete t.procient,t}))))if(G.length){var t=(0,b.KE)(G,"totalprice"),a=(0,b.KE)(G,"totalpriceuzs");nt(t),st(a),Ze(t),Ue(a),mt(t),bt(a),fe(!0),zt((0,b.Ts)(a,t))}else z?(0,v._P)():(0,v.YQ)()}})]})]}),(0,j.jsx)(h.Z,{isOpen:jt,body:gt,headerText:e("To'lovni amalga oshirishni tasdiqlaysizmi ?"),title:e("To'lovni amalga oshirgach bu ma`lumotlarni o`zgaritirb bo`lmaydi !"),product:ee,toggleModal:It,changeProduct:Mt,approveFunction:"complete"===gt?Ht:function(){Yt(ee)||(V([ee].concat((0,i.Z)(G))),It())},currency:w})]}),(0,j.jsx)(d.Z,{onError:function(){(0,v.Ug)(e("Mahsulot kodi o'qilmadi!"),"warning")},onScan:function(e){var t=(0,i.Z)(_).filter((function(t){return t.productdata.barcode===e}))[0];Pt({value:t._id,label:t.productdata.name})}})]})}}}]);
//# sourceMappingURL=6987.aee42946.chunk.js.map