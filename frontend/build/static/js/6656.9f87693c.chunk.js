"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6656],{7667:function(e,t,a){a(2791);var n=a(1087),s=a(71),l=a(184);t.Z=function(e){var t=e.link;return(0,l.jsx)(n.rU,{to:t,className:"linktoback",children:(0,l.jsx)(s.dUf,{})})}},5692:function(e,t,a){a.d(t,{Z:function(){return y}});var n=a(71),s=(a(2791),a(184)),l=function(e){var t=e.onClick,a=e.text,l=e.type,r=e.active,u={cash:(0,s.jsx)(n.OR0,{className:"paymentsstyle",size:"1.3125rem"}),card:(0,s.jsx)(n.RjO,{className:"paymentsstyle",size:"1.3125rem"}),transfer:(0,s.jsx)(n.g2P,{className:"paymentsstyle",size:"1.3125rem"}),mixed:(0,s.jsx)(n.qTT,{className:"paymentsstyle",size:"1.3125rem"})};return(0,s.jsxs)("button",{onClick:function(){return t(l)},className:"salestyle ".concat(r?"bg-primary-700 text-white-900":"bg-[#E9ECEB]"),children:[u[l],a]})},r=function(e){var t=e.onClick,a=e.text,l=e.onDoubleClick;return(0,s.jsxs)("button",{onClick:t,onDoubleClick:l,className:"paymentstyle grow",children:[(0,s.jsx)(n.Q84,{className:"paystyle",size:"1.3125rem"}),a]})},u=a(9434);a(1413);var i=function(e){var t=e.value,a=e.onChange;return e.option,e.onSelect,(0,u.v9)((function(e){return e.currency})).currencyType,(0,s.jsx)("div",{className:"flex w-[11.75rem] border border-warning-500 rounded-[0.25rem] outline outline-transparent outline-0 focus-within:outline-2 focus-within:outline-warning-500 transition-all ease-in-out duration-100 relative",children:(0,s.jsx)("input",{className:"w-full placeholder-blue-200 py-[0.3125rem] px-[.3125rem] rounded-[0.25rem] outline-0 text-sm text-right transition-all ease-in-out duration-100",placeholder:"misol: 100 000 000",type:"number",value:t,onChange:function(e){a(e.target.value)},onWheel:function(e){return e.target.blur()},min:0})})},c=function(e){var t=e.value,a=e.onChange,n=e.option,l=e.onSelect,r=e.type,u=e.label;return(0,s.jsxs)("div",{className:"flex justify-between w-full items-center mb-[1rem]",children:[(0,s.jsxs)("div",{className:"text-black-700 text-[0.875rem]",children:[u,":"]}),(0,s.jsx)(i,{onChange:function(e){return a(e,r)},onSelect:l,value:t,option:n})]})},o=a(4952),m=function(e){var t=e.onClick;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{onClick:t,className:"exitbtn",children:(0,s.jsx)(n.Lp2,{size:"0.75rem"})})})};var d=function(e){var t=e.mix,a=e.value,n=e.onChange,l=e.label,r=e.onClose,u=e.keyInput,i=e.placeholder,c=e.type;return(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[l," :"]}),(0,s.jsxs)("div",{className:"flex items-center w-[11.75rem] gap-[0.625rem]",children:[(0,s.jsx)(o.Z,{placeholder:i||"misol: 100 000 000",type:c||"number",value:a,onChange:function(e){n(e.target.value,u)}}),t&&(0,s.jsx)(m,{onClick:function(){return r(u)}})]})]})},h=a(8825),b=a(7689),x=a(2932),p=a(7584);var y=function(e){var t=e.returned,a=e.active,i=e.togglePaymentModal,o=e.type,m=void 0===o?"cash":o,y=e.cash,N=void 0===y?"":y,f=e.card,v=void 0===f?"":f,g=e.transfer,j=void 0===g?"":g,k=e.discount,C=e.discountUzs,S=e.hasDiscount,D=e.debt,Z=e.allPayment,w=e.allPaymentUzs,z=e.paid,P=void 0===z?0:z,U=e.client,T=void 0===U?"":U,q=e.onChange,I=e.onClose,O=e.changePaymentType,M=e.discountSelectOption,H=(e.handleClickDiscountBtn,e.handleChangeDiscountSelectOption),Q=e.handleChangeDiscount,E=(e.exchangerate,e.handleClickPay),F=e.allMainPayment,X=e.saleComment,B=e.changeComment,Y=e.onDoubleClick,R=e.paymentUsd,L=void 0===R?"":R,_=e.debtuzs,A=e.debtType,J=e.setDebtType,V=(0,b.TH)(),W=function(){switch(m){case"card":return(0,s.jsx)(d,{value:v,keyInput:m,onChange:q,onClose:I,label:(0,h.t)("Plastik")},"sale-card1");case"transfer":return(0,s.jsx)(d,{value:j,keyInput:m,onChange:q,onClose:I,label:(0,h.t)("O`tkazma")},"sale-transfer");case"mixed":return[{label:(0,h.t)("USD"),key:"usd",value:L},{label:(0,h.t)("Naqd"),key:"cash",value:N},{label:(0,h.t)("Plastik"),key:"card",value:v},{label:(0,h.t)("O`tkazma"),key:"transfer",value:j}].map((function(e){return(0,s.jsx)(d,{value:e.value,keyInput:e.key,onChange:q,onClose:I,label:(0,h.t)(e.label)},"sale-".concat(e.key))}));default:return V.pathname.includes("/kassa/debts")?"sum"===A?(0,s.jsx)(d,{value:N,onChange:q,keyInput:m,onClose:I,label:(0,h.t)("Naqd")},"sale-cash"):(0,s.jsx)(d,{value:L,onChange:q,keyInput:"usd",onClose:I,label:(0,h.t)("USD")},"sale-usd"):(0,s.jsxs)(s.Fragment,{children:["mixed"!==m&&(0,s.jsx)(d,{value:L,onChange:q,keyInput:"usd",onClose:I,label:(0,h.t)("USD")},"sale-usd"),(0,s.jsx)(d,{value:N,onChange:q,keyInput:m,onClose:I,label:(0,h.t)("Naqd")},"sale-cash")]})}},G=(0,u.v9)((function(e){return e.currency})),K=G.currencyType;return G.currency,(0,s.jsxs)("section",{className:"absolute transition-all left-0 top-0 right-0 bottom-0 overflow-hidden duration-200 ease-out bg-black-300 backdrop-blur-[3px] z-20 ".concat(a?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:i,children:[(0,s.jsx)("h3",{className:"text-white-900 text-lg leading-[1.875rem absolute top-[50%] left-[35%] -translate-x-[50%]",children:(0,h.t)("Oynani yopish uchun bu yerga bosing !")}),(0,s.jsxs)("div",{className:"customerPay-head-style transition-all duration-200 ease-linear h-full overflow-auto absolute top-0 bottom-0 right-0 ".concat(a?"translate-x-0":"translate-x-full"),onClick:function(e){return e.stopPropagation()},autoFocus:!0,children:[(0,s.jsxs)("div",{className:"top-payment w-full",children:[T&&(0,s.jsxs)("div",{className:"customer-head-icon",children:[(0,s.jsxs)("div",{className:"flex items-center custom-payment-text-style",children:[(0,s.jsx)(n.J4e,{className:"mr-[0.75rem]"}),(0,s.jsxs)("span",{children:[(0,h.t)("Mijoz")," : "]})]}),(0,s.jsx)("h3",{className:"text-[0.875rem]",children:T})]}),(0,s.jsx)("div",{className:"mb-[1.25rem] font-medium text-[1.25rem] text-center leading-[23.44px]",children:V.pathname.includes("/kassa/debts")?"dollar"===A?Z+" USD":w+" UZS":Number(F)+" UZS"}),(0,s.jsxs)("ul",{className:"w-full pb-[1.25rem]",children:[!t&&W(),(V.pathname.includes("/kassa/debts")||V.pathname.includes("/qarzdorlar")||V.pathname.includes("/maxsulotlar/qabul/qabulqilish")||V.pathname.includes("/maxsulotlar/qabul/qabullar"))&&W(),(0,s.jsx)(d,{value:X,keyInput:m,onChange:B,onClose:I,label:(0,h.t)("Izoh"),placeholder:(0,h.t)("misol: qarzga olindi"),type:"text"},"sale-card"),S&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{value:k,onChange:Q,option:M,onSelect:H,label:"Chegirma USD",type:"usd"}),(0,s.jsx)(c,{value:C,onChange:Q,option:M,onSelect:H,label:"Chegirma UZS",type:"uzs"})]}),V.pathname.includes("/kassa/debts")?"sum"===A?(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,h.t)("Qarzlar")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[_," UZS"]})]}):(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,h.t)("Qarzlar")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[(0,p.Y2)(D)," USD ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})]}):(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,h.t)("Qarzlar")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[Math.round(1e3*D)/1e3," USD ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),_," UZS"]})]}),V.pathname.includes("/kassa/debts")&&(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,h.t)("Qarz")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem] flex items-center gap-2",children:[(0,s.jsx)(x.Z,{id:"debt",onChange:function(){return J("dollar")},value:"dollar"===A,label:(0,h.t)("USD")}),(0,s.jsx)(x.Z,{id:"debt2",onChange:function(){return J("sum")},value:"sum"===A,label:(0,h.t)("UZS")})]})]}),(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[Z<0?(0,h.t)("Qaytarilayotgan"):(0,h.t)("To`lanayotgan")," ",":"," "]}),(0,s.jsxs)("h3",{className:"text-[1rem] text-loginButton",children:[P.toLocaleString("ru-Ru")," ",K]})]})]})]}),(0,s.jsxs)("div",{className:"bottom-payment w-full flex flex-col gap-[1.25rem] border-t-[1px] border-black-200 pt-[1.25rem]",children:[(0,s.jsxs)("div",{className:"custom-paymet-btn",children:[(0,s.jsx)(l,{text:(0,h.t)("Naqd"),type:"cash",active:"cash"===m,onClick:O}),(0,s.jsx)(l,{text:(0,h.t)("Plastik"),type:"card",active:"card"===m,onClick:O}),(0,s.jsx)(l,{text:(0,h.t)("O'tkazma"),type:"transfer",active:"transfer"===m,onClick:O}),!t&&(0,s.jsx)(l,{text:(0,h.t)("Aralash"),type:"mixed",active:"mixed"===m,onClick:O})]}),(0,s.jsx)(r,{text:(0,h.t)("To'lash"),onClick:E,onDoubleClick:Y})]})]})]})}},889:function(e,t,a){a.r(t);var n=a(9439),s=a(2791),l=a(9434),r=a(7689),u=a(7584),i=a(7667),c=a(2230),o=a(5077),m=a(5692),d=a(2987),h=a(9078),b=a(2106),x=a(5121),p=a(8348),y=a(184);t.default=function(){var e=(0,r.UO)().id,t=(0,l.I0)(),a=(0,l.v9)((function(e){return e.login})).user,N=(0,l.v9)((function(e){return e.currency})),f=N.currencyType,v=N.currency,g=(0,l.v9)((function(e){return e.suppliers})),j=g.incomingconnectors,k=g.connectorscount,C=(0,s.useState)([]),S=(0,n.Z)(C,2),D=S[0],Z=S[1],w=(0,s.useState)(0),z=(0,n.Z)(w,2),P=z[0],U=z[1],T=(0,s.useState)(10),q=(0,n.Z)(T,2),I=q[0],O=q[1],M=(0,s.useState)(new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString()),H=(0,n.Z)(M,2),Q=H[0],E=H[1],F=(0,s.useState)(new Date((new Date).setHours(23,59,59,0)).toISOString()),X=(0,n.Z)(F,2),B=X[0],Y=X[1],R=(0,s.useState)(!1),L=(0,n.Z)(R,2),_=L[0],A=L[1],J=(0,s.useState)("cash"),V=(0,n.Z)(J,2),W=V[0],G=V[1],K=(0,s.useState)(""),$=(0,n.Z)(K,2),ee=$[0],te=$[1],ae=(0,s.useState)(""),ne=(0,n.Z)(ae,2),se=ne[0],le=ne[1],re=(0,s.useState)(""),ue=(0,n.Z)(re,2),ie=ue[0],ce=ue[1],oe=(0,s.useState)(""),me=(0,n.Z)(oe,2),de=me[0],he=me[1],be=(0,s.useState)(""),xe=(0,n.Z)(be,2),pe=xe[0],ye=xe[1],Ne=(0,s.useState)(""),fe=(0,n.Z)(Ne,2),ve=fe[0],ge=fe[1],je=(0,s.useState)(0),ke=(0,n.Z)(je,2),Ce=ke[0],Se=ke[1],De=(0,s.useState)(0),Ze=(0,n.Z)(De,2),we=Ze[0],ze=Ze[1],Pe=(0,s.useState)(0),Ue=(0,n.Z)(Pe,2),Te=Ue[0],qe=Ue[1],Ie=(0,s.useState)(0),Oe=(0,n.Z)(Ie,2),Me=Oe[0],He=Oe[1],Qe=(0,s.useState)(0),Ee=(0,n.Z)(Qe,2),Fe=Ee[0],Xe=Ee[1],Be=(0,s.useState)(0),Ye=(0,n.Z)(Be,2),Re=Ye[0],Le=Ye[1],_e=(0,s.useState)("approve"),Ae=(0,n.Z)(_e,2),Je=Ae[0],Ve=Ae[1],We=(0,s.useState)(!1),Ge=(0,n.Z)(We,2),Ke=Ge[0],$e=Ge[1],et=(0,s.useState)(v),tt=(0,n.Z)(et,2),at=tt[0],nt=tt[1],st=(0,s.useState)(""),lt=(0,n.Z)(st,2),rt=lt[0],ut=lt[1],it=(0,s.useState)(""),ct=(0,n.Z)(it,2),ot=ct[0],mt=ct[1],dt=null,ht=function(e){return Math.round(1e3*e)/1e3},bt=function(e){return Math.round(e)},xt=function(e){A(e?!_:e),G("cash"),Se(0),ze(0)},pt=function(e,t){var a=Math.abs(Te),n=Math.abs(Me);if("USD"===f)if("cash"===t){var s=Number(e)+Number(ie)+Number(pe),l=Number((0,u.uX)(e,at))+Number(de)+Number(ve);s<=a?(te(e),le((0,u.uX)(e,at)),Se(ht(a-s)),ze(bt(n-l)),Xe(s),Le(l)):(0,b.bH)()}else if("card"===t){var r=Number(e)+Number(ee)+Number(pe),i=Number(se)+Number((0,u.uX)(e,at))+Number(ve);r<=a?(ce(e),he((0,u.uX)(e,at)),Se(ht(a-r)),ze(bt(n-i)),Xe(r),Le(i)):(0,b.bH)()}else{var c=Number(e)+Number(ee)+Number(ie),o=Number(se)+Number(de)+Number((0,u.uX)(e,at));c<=a?(ye(e),ge((0,u.uX)(e,at)),Se(ht(a-c)),ze(bt(n-o)),Xe(c),Le(o)):(0,b.bH)()}else if("cash"===t){var m=Number(e)+Number(de)+Number(ve),d=Number((0,u.Nt)(e,at))+Number(ie)+Number(pe);m<=n?(le(e),te((0,u.Nt)(e,at)),Se(ht(a-d)),ze(bt(n-m)),Xe(d),Le(m)):(0,b.bH)()}else if("card"===t){var h=Number(e)+Number(se)+Number(ve),x=Number(ee)+Number((0,u.Nt)(e,at))+Number(pe);h<=n?(ce((0,u.Nt)(e,at)),he(e),Se(ht(a-x)),ze(bt(n-h)),Xe((0,u.Nt)(h,at)),Le(h)):(0,b.bH)()}else{var p=Number(e)+Number(se)+Number(de),y=Number(ee)+Number(ie)+Number((0,u.Nt)(e,at));p<=n?(ye((0,u.Nt)(e,at)),ge(e),Se(ht(a-y)),ze(bt(n-p)),Xe(y),Le(p)):(0,b.bH)()}},yt=function(){var n=function(e){return e<0&&e||-1*e},s={payment:{payment:Number(Te<0?n(ee):ee)+Number(Te<0?n(ie):ie)+Number(Te<0?n(pe):pe),paymentuzs:Number(Te<0?n(se):se)+Number(Te<0?n(de):de)+Number(Te<0?pe<0&&n(ve):ve),type:W,cash:Number(Te<0?n(ee):ee),cashuzs:Number(Me<0?n(se):se),card:Number(Te<0?n(ie):ie),carduzs:Number(Te<0?n(de):de),transfer:Number(Te<0?n(pe):pe),transferuzs:Number(Te<0?n(ve):ve),comment:rt},user:a._id,incomingconnectorid:ot};t((0,x.Yt)(s)).then((function(a){a.error||(t((0,p.YO)({supplierid:e,startDate:Q,endDate:B,currentPage:P,countPage:I})),$e(!1),Ve(""),xt())}))};(0,s.useEffect)((function(){var a={supplierid:e,startDate:Q,endDate:B,currentPage:P,countPage:I};t((0,p.YO)(a))}),[t,Q,B,P,I,e]),(0,s.useEffect)((function(){Z(j)}),[j]);return(0,y.jsxs)("div",{className:"relative grow overflow-hidden h-full",children:[(0,y.jsx)("div",{className:"mainPadding",children:(0,y.jsx)(i.Z,{link:"/hamkorlar/yetkazuvchilar"})}),(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)(d.Z,{filterBy:["total","startDate","endDate"],filterByTotal:function(e){return O(e.value)},startDate:new Date(Q),endDate:new Date(B),setStartDate:E,setEndDate:Y}),(0,y.jsx)(o.Z,{currentPage:P,setCurrentPage:U,countPage:I,totalDatas:k||1})]}),(0,y.jsx)("div",{className:"tableContainerPadding",children:D.length>0&&(0,y.jsx)(h.Z,{page:"incomingsupplier",currentPage:P,countPage:I,currency:f,headers:[{title:"\u2116"},{title:"Sana"},{title:"Vaqti"},{title:"ID"},{title:"Mahsulot turi"},{title:"Soni"},{title:"Umumiy"},{title:"To'langan"},{title:"Qarz"},{title:""}],data:D,Pay:function(e){var t=e.debt,a=e.debtuzs;mt(e._id),qe(t),He(a),te(t),le(a),Xe(t),Le(a),A(!0),nt(bt(a/t)),A(!0)}})}),(0,y.jsx)(m.Z,{returned:!0,type:W,active:_,togglePaymentModal:xt,changePaymentType:function(e){if(W!==e)switch(G(e),e){case"cash":te(Te),le(Me),ce(""),he(""),ye(""),ge(""),Xe(Te),Le(Me),Se(0),ze(0);break;case"card":ce(Te),he(Me),te(""),le(""),ye(""),ge(""),Xe(Te),Le(Me),Se(0),ze(0);break;case"transfer":ye(Te),ge(Me),te(""),le(""),ce(""),he(""),Xe(Te),Le(Me),Se(0),ze(0);break;default:te(""),le(""),ce(""),he(""),ye(""),ge(""),Xe(0),Le(0),Se(Te),ze(Me)}},onChange:function(e,t){pt(e,t)},allPayment:"USD"===f?Te:Me,card:"USD"===f?ie:de,cash:"USD"===f?ee:se,debt:"USD"===f?Ce:we,hasDiscount:!1,transfer:"USD"===f?pe:ve,paid:"USD"===f?Fe:Re,handleClickPay:function(){null===dt&&(dt=window.setTimeout((function(){dt=null,Ve("complete"),$e(!0)}),300))},changeComment:function(e){ut(e)},saleComment:rt,onDoubleClick:function(){window.clearTimeout(dt),dt=null,yt()}}),(0,y.jsx)(c.Z,{body:Je,isOpen:Ke,headerText:"To'lovni amalga oshirishni tasdiqlaysizmi ?",title:"To'lovni amalga oshirgach bu ma`lumotlarni o`zgaritirb bo`lmaydi !",approveFunction:yt,toggleModal:function(){$e(!Ke),setTimeout((function(){Ve("")}),500)}})]})}}}]);
//# sourceMappingURL=6656.9f87693c.chunk.js.map