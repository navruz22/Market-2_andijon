"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8530],{7667:function(e,t,a){a(2791);var n=a(1087),s=a(71),l=a(184);t.Z=function(e){var t=e.link;return(0,l.jsx)(n.rU,{to:t,className:"linktoback",children:(0,l.jsx)(s.dUf,{})})}},5692:function(e,t,a){a.d(t,{Z:function(){return p}});var n=a(71),s=(a(2791),a(184)),l=function(e){var t=e.onClick,a=e.text,l=e.type,i=e.active,r={cash:(0,s.jsx)(n.OR0,{className:"paymentsstyle",size:"1.3125rem"}),card:(0,s.jsx)(n.RjO,{className:"paymentsstyle",size:"1.3125rem"}),transfer:(0,s.jsx)(n.g2P,{className:"paymentsstyle",size:"1.3125rem"}),mixed:(0,s.jsx)(n.qTT,{className:"paymentsstyle",size:"1.3125rem"})};return(0,s.jsxs)("button",{onClick:function(){return t(l)},className:"salestyle ".concat(i?"bg-primary-700 text-white-900":"bg-[#E9ECEB]"),children:[r[l],a]})},i=function(e){var t=e.onClick,a=e.text,l=e.onDoubleClick;return(0,s.jsxs)("button",{onClick:t,onDoubleClick:l,className:"paymentstyle grow",children:[(0,s.jsx)(n.Q84,{className:"paystyle",size:"1.3125rem"}),a]})},r=a(9434);a(1413);var c=function(e){var t=e.value,a=e.onChange;return e.option,e.onSelect,(0,r.v9)((function(e){return e.currency})).currencyType,(0,s.jsx)("div",{className:"flex w-[11.75rem] border border-warning-500 rounded-[0.25rem] outline outline-transparent outline-0 focus-within:outline-2 focus-within:outline-warning-500 transition-all ease-in-out duration-100 relative",children:(0,s.jsx)("input",{className:"w-full placeholder-blue-200 py-[0.3125rem] px-[.3125rem] rounded-[0.25rem] outline-0 text-sm text-right transition-all ease-in-out duration-100",placeholder:"misol: 100 000 000",type:"number",value:t,onChange:function(e){a(e.target.value)},onWheel:function(e){return e.target.blur()},min:0})})},o=function(e){var t=e.value,a=e.onChange,n=e.option,l=e.onSelect,i=e.type,r=e.label;return(0,s.jsxs)("div",{className:"flex justify-between w-full items-center mb-[1rem]",children:[(0,s.jsxs)("div",{className:"text-black-700 text-[0.875rem]",children:[r,":"]}),(0,s.jsx)(c,{onChange:function(e){return a(e,i)},onSelect:l,value:t,option:n})]})},u=a(4952),d=function(e){var t=e.onClick;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{onClick:t,className:"exitbtn",children:(0,s.jsx)(n.Lp2,{size:"0.75rem"})})})};var m=function(e){var t=e.mix,a=e.value,n=e.onChange,l=e.label,i=e.onClose,r=e.keyInput,c=e.placeholder,o=e.type;return(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[l," :"]}),(0,s.jsxs)("div",{className:"flex items-center w-[11.75rem] gap-[0.625rem]",children:[(0,s.jsx)(u.Z,{placeholder:c||"misol: 100 000 000",type:o||"number",value:a,onChange:function(e){n(e.target.value,r)}}),t&&(0,s.jsx)(d,{onClick:function(){return i(r)}})]})]})},f=a(8825),x=a(7689),h=a(2932),b=a(7584);var p=function(e){var t=e.returned,a=e.active,c=e.togglePaymentModal,u=e.type,d=void 0===u?"cash":u,p=e.cash,y=void 0===p?"":p,v=e.card,j=void 0===v?"":v,g=e.transfer,S=void 0===g?"":g,N=e.discount,k=e.discountUzs,D=e.hasDiscount,C=e.debt,Z=e.allPayment,w=e.allPaymentUzs,U=e.paid,z=void 0===U?0:U,P=e.client,T=void 0===P?"":P,I=e.onChange,M=e.onClose,L=e.changePaymentType,O=e.discountSelectOption,q=(e.handleClickDiscountBtn,e.handleChangeDiscountSelectOption),R=e.handleChangeDiscount,Y=(e.exchangerate,e.handleClickPay),E=e.allMainPayment,Q=e.saleComment,B=e.changeComment,A=e.onDoubleClick,H=e.paymentUsd,J=void 0===H?"":H,F=e.debtuzs,X=e.debtType,_=e.setDebtType,K=(0,x.TH)(),W=function(){switch(d){case"card":return(0,s.jsx)(m,{value:j,keyInput:d,onChange:I,onClose:M,label:(0,f.t)("Plastik")},"sale-card1");case"transfer":return(0,s.jsx)(m,{value:S,keyInput:d,onChange:I,onClose:M,label:(0,f.t)("O`tkazma")},"sale-transfer");case"mixed":return[{label:(0,f.t)("USD"),key:"usd",value:J},{label:(0,f.t)("Naqd"),key:"cash",value:y},{label:(0,f.t)("Plastik"),key:"card",value:j},{label:(0,f.t)("O`tkazma"),key:"transfer",value:S}].map((function(e){return(0,s.jsx)(m,{value:e.value,keyInput:e.key,onChange:I,onClose:M,label:(0,f.t)(e.label)},"sale-".concat(e.key))}));default:return K.pathname.includes("/kassa/debts")?"sum"===X?(0,s.jsx)(m,{value:y,onChange:I,keyInput:d,onClose:M,label:(0,f.t)("Naqd")},"sale-cash"):(0,s.jsx)(m,{value:J,onChange:I,keyInput:"usd",onClose:M,label:(0,f.t)("USD")},"sale-usd"):(0,s.jsxs)(s.Fragment,{children:["mixed"!==d&&(0,s.jsx)(m,{value:J,onChange:I,keyInput:"usd",onClose:M,label:(0,f.t)("USD")},"sale-usd"),(0,s.jsx)(m,{value:y,onChange:I,keyInput:d,onClose:M,label:(0,f.t)("Naqd")},"sale-cash")]})}},G=(0,r.v9)((function(e){return e.currency})),V=G.currencyType;return G.currency,(0,s.jsxs)("section",{className:"absolute transition-all left-0 top-0 right-0 bottom-0 overflow-hidden duration-200 ease-out bg-black-300 backdrop-blur-[3px] z-20 ".concat(a?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:c,children:[(0,s.jsx)("h3",{className:"text-white-900 text-lg leading-[1.875rem absolute top-[50%] left-[35%] -translate-x-[50%]",children:(0,f.t)("Oynani yopish uchun bu yerga bosing !")}),(0,s.jsxs)("div",{className:"customerPay-head-style transition-all duration-200 ease-linear h-full overflow-auto absolute top-0 bottom-0 right-0 ".concat(a?"translate-x-0":"translate-x-full"),onClick:function(e){return e.stopPropagation()},autoFocus:!0,children:[(0,s.jsxs)("div",{className:"top-payment w-full",children:[T&&(0,s.jsxs)("div",{className:"customer-head-icon",children:[(0,s.jsxs)("div",{className:"flex items-center custom-payment-text-style",children:[(0,s.jsx)(n.J4e,{className:"mr-[0.75rem]"}),(0,s.jsxs)("span",{children:[(0,f.t)("Mijoz")," : "]})]}),(0,s.jsx)("h3",{className:"text-[0.875rem]",children:T})]}),(0,s.jsx)("div",{className:"mb-[1.25rem] font-medium text-[1.25rem] text-center leading-[23.44px]",children:K.pathname.includes("/kassa/debts")?"dollar"===X?Z+" USD":w+" UZS":Number(E)+" UZS"}),(0,s.jsxs)("ul",{className:"w-full pb-[1.25rem]",children:[!t&&W(),(K.pathname.includes("/kassa/debts")||K.pathname.includes("/qarzdorlar")||K.pathname.includes("/maxsulotlar/qabul/qabulqilish")||K.pathname.includes("/maxsulotlar/qabul/qabullar"))&&W(),(0,s.jsx)(m,{value:Q,keyInput:d,onChange:B,onClose:M,label:(0,f.t)("Izoh"),placeholder:(0,f.t)("misol: qarzga olindi"),type:"text"},"sale-card"),D&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{value:N,onChange:R,option:O,onSelect:q,label:"Chegirma USD",type:"usd"}),(0,s.jsx)(o,{value:k,onChange:R,option:O,onSelect:q,label:"Chegirma UZS",type:"uzs"})]}),K.pathname.includes("/kassa/debts")?"sum"===X?(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,f.t)("Qarzlar")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[F," UZS"]})]}):(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,f.t)("Qarzlar")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[(0,b.Y2)(C)," USD ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{})]})]}):(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,f.t)("Qarzlar")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[Math.round(1e3*C)/1e3," USD ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),F," UZS"]})]}),K.pathname.includes("/kassa/debts")&&(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[(0,f.t)("Qarz")," :"," "]}),(0,s.jsxs)("h3",{className:"text-error-500 text-[1rem] flex items-center gap-2",children:[(0,s.jsx)(h.Z,{id:"debt",onChange:function(){return _("dollar")},value:"dollar"===X,label:(0,f.t)("USD")}),(0,s.jsx)(h.Z,{id:"debt2",onChange:function(){return _("sum")},value:"sum"===X,label:(0,f.t)("UZS")})]})]}),(0,s.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,s.jsxs)("span",{className:"custom-payment-text-style",children:[Z<0?(0,f.t)("Qaytarilayotgan"):(0,f.t)("To`lanayotgan")," ",":"," "]}),(0,s.jsxs)("h3",{className:"text-[1rem] text-loginButton",children:[z.toLocaleString("ru-Ru")," ",V]})]})]})]}),(0,s.jsxs)("div",{className:"bottom-payment w-full flex flex-col gap-[1.25rem] border-t-[1px] border-black-200 pt-[1.25rem]",children:[(0,s.jsxs)("div",{className:"custom-paymet-btn",children:[(0,s.jsx)(l,{text:(0,f.t)("Naqd"),type:"cash",active:"cash"===d,onClick:L}),(0,s.jsx)(l,{text:(0,f.t)("Plastik"),type:"card",active:"card"===d,onClick:L}),(0,s.jsx)(l,{text:(0,f.t)("O'tkazma"),type:"transfer",active:"transfer"===d,onClick:L}),!t&&(0,s.jsx)(l,{text:(0,f.t)("Aralash"),type:"mixed",active:"mixed"===d,onClick:L})]}),(0,s.jsx)(i,{text:(0,f.t)("To'lash"),onClick:Y,onDoubleClick:A})]})]})]})}},5592:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(1413),s=a(3433),l=a(9439),i=a(2791),r=a(9434),c=a(7689),o=a(7584),u=a(7667),d=a(2230),m=a(5077),f=a(5692),x=a(2987),h=a(4339),b=a(2106),p=a(6484),y=a(8825),v=a(763),j=a(3160),g=a(184),S=function(){var e,t,a,S,N,k=(0,c.UO)(),D=k.id,C=(0,r.I0)(),Z=(0,r.v9)((function(e){return e.login})),w=Z.market,U=Z.user,z=(0,r.v9)((function(e){return e.reports})),P=z.datas,T=z.count,I=z.startDate,M=z.endDate,L=z.successDebtComment,O=z.totalpayment,q=(0,r.v9)((function(e){return e.sellings})).sellings,R=(0,r.v9)((function(e){return e.currency})),Y=R.currencyType,E=R.currency,Q=(0,i.useState)(0),B=(0,l.Z)(Q,2),A=B[0],H=B[1],J=(0,i.useState)(10),F=(0,l.Z)(J,2),X=F[0],_=F[1],K=(0,i.useState)(1),W=(0,l.Z)(K,2),G=W[0],V=W[1],$=(0,i.useState)({id:"",client:""}),ee=(0,l.Z)($,2),te=ee[0],ae=ee[1],ne=(0,i.useState)({id:"",client:""}),se=(0,l.Z)(ne,2),le=se[0],ie=se[1],re=(0,i.useState)([]),ce=(0,l.Z)(re,2),oe=ce[0],ue=ce[1],de=(0,i.useState)(P),me=(0,l.Z)(de,2),fe=me[0],xe=me[1],he=(0,i.useState)(!1),be=(0,l.Z)(he,2),pe=be[0],ye=be[1],ve=(0,i.useState)(!1),je=(0,l.Z)(ve,2),ge=je[0],Se=je[1],Ne=(0,i.useState)("cash"),ke=(0,l.Z)(Ne,2),De=ke[0],Ce=ke[1],Ze=(0,i.useState)(""),we=(0,l.Z)(Ze,2),Ue=we[0],ze=we[1],Pe=(0,i.useState)(""),Te=(0,l.Z)(Pe,2),Ie=Te[0],Me=Te[1],Le=(0,i.useState)(""),Oe=(0,l.Z)(Le,2),qe=Oe[0],Re=Oe[1],Ye=(0,i.useState)(""),Ee=(0,l.Z)(Ye,2),Qe=Ee[0],Be=Ee[1],Ae=(0,i.useState)(""),He=(0,l.Z)(Ae,2),Je=He[0],Fe=He[1],Xe=(0,i.useState)(""),_e=(0,l.Z)(Xe,2),Ke=_e[0],We=_e[1],Ge=(0,i.useState)(""),Ve=(0,l.Z)(Ge,2),$e=Ve[0],et=Ve[1],tt=(0,i.useState)(""),at=(0,l.Z)(tt,2),nt=at[0],st=at[1],lt=(0,i.useState)("sum"),it=(0,l.Z)(lt,2),rt=it[0],ct=it[1],ot=(0,i.useState)(null),ut=(0,l.Z)(ot,2),dt=ut[0],mt=ut[1],ft=(0,i.useState)(""),xt=(0,l.Z)(ft,2),ht=xt[0],bt=xt[1],pt=(0,i.useState)(""),yt=(0,l.Z)(pt,2),vt=yt[0],jt=yt[1],gt=(0,i.useState)(!1),St=(0,l.Z)(gt,2),Nt=St[0],kt=St[1],Dt=(0,i.useState)(null),Ct=(0,l.Z)(Dt,2),Zt=Ct[0],wt=Ct[1],Ut=(0,i.useState)(""),zt=(0,l.Z)(Ut,2),Pt=zt[0],Tt=zt[1],It=(0,i.useState)({label:"%",value:"%"}),Mt=(0,l.Z)(It,2),Lt=Mt[0],Ot=Mt[1],qt=(0,i.useState)({filter:"",sort:"",count:0}),Rt=(0,l.Z)(qt,2),Yt=Rt[0],Et=Rt[1],Qt=(0,i.useState)(P),Bt=(0,l.Z)(Qt,2),At=Bt[0],Ht=Bt[1],Jt=(0,i.useState)(0),Ft=(0,l.Z)(Jt,2),Xt=Ft[0],_t=Ft[1],Kt=(0,i.useState)(0),Wt=(0,l.Z)(Kt,2),Gt=Wt[0],Vt=Wt[1],$t=(0,i.useState)(0),ea=(0,l.Z)($t,2),ta=ea[0],aa=ea[1],na=(0,i.useState)(0),sa=(0,l.Z)(na,2),la=sa[0],ia=sa[1],ra=(0,i.useState)(0),ca=(0,l.Z)(ra,2),oa=ca[0],ua=ca[1],da=(0,i.useState)(0),ma=(0,l.Z)(da,2),fa=ma[0],xa=ma[1],ha=(0,i.useState)(""),ba=(0,l.Z)(ha,2),pa=ba[0],ya=ba[1],va=(0,i.useState)(null),ja=(0,l.Z)(va,2),ga=ja[0],Sa=ja[1],Na=(0,i.useState)({usd:0,uzs:0}),ka=(0,l.Z)(Na,2),Da=(ka[0],ka[1]),Ca=(0,i.useState)(new Date((new Date).setMonth((new Date).getMonth()-3))),Za=(0,l.Z)(Ca,2),wa=Za[0],Ua=Za[1],za=(0,i.useState)(new Date),Pa=(0,l.Z)(za,2),Ta=Pa[0],Ia=Pa[1],Ma=function(e){Se(e?!ge:e),Ce("cash"),kt(!1),et(""),bt(""),jt(""),_t(0),Vt(0),Ot({label:"%",value:"%"})},La=function(e){return Math.round(100*e)/100},Oa=function(e){return Math.round(e)},qa=function(){ye(!1),setTimeout((function(){ya("")}),500)},Ra=function(e){"Enter"===e.key&&ae(le)};return(0,i.useEffect)((function(){var e=function(e){return D===e},t={type:D,currentPage:A,countPage:X,startDate:I,endDate:M,market:w,search:te},a={startDate:wa,endDate:Ta};return e("sale")&&C((0,j.gq)(t)),e("income")&&C((0,p.fS)(t)),e("payments")&&C((0,p.BP)(t)),e("debts")&&C((0,p.UO)(a)),e("discounts")&&C((0,p.gj)(t)),e("backproducts")&&C((0,p.PO)(t)),e("expenses")&&C((0,p.Mw)(t)),function(){C((0,p.dP)())}}),[C,te,A,X,I,M,wa,Ta,w,D]),(0,i.useEffect)((function(){return"cash"!==D&&"card"!==D&&"transfer"!==D||(xe((0,s.Z)(P.filter((function(e){return 0!==e[D]})))),ue((0,s.Z)(P.filter((function(e){return 0!==e[D]}))))),"sale"===D?(xe(q),ue(q)):(xe(P),ue(P)),function(){xe([]),ue([])}}),[P,D,q]),(0,i.useEffect)((function(){T>0&&V(T)}),[T]),(0,i.useEffect)((function(){"debts"===D&&Da({usd:(0,o.Y2)((0,s.Z)(P).reduce((function(e,t){return e+t.debtusd}),0)),uzs:(0,o.ei)((0,s.Z)(P).reduce((function(e,t){var a=t.debtuzs;return e+(!t.debtusd&&a||0)}),0))})}),[P,D]),(0,i.useEffect)((function(){if("debts"===D){var e=(0,s.Z)(P).filter((function(e){return new Date(e.createdAt)>=wa&&new Date(e.createdAt)<=Ta}));xe(e)}xe(P),Ht(P)}),[D,P,wa,Ta]),(0,i.useEffect)((function(){if(L){var e={startDate:wa,endDate:Ta,market:w};C((0,p.UO)(e)),C((0,p.L6)())}}),[C,L,D,w,te,wa,Ta]),(0,g.jsxs)("div",{className:"relative overflow-auto h-full",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mainPadding",children:[(0,g.jsx)(u.Z,{link:"/kassa"}),"debts"!==D&&(0,g.jsx)(x.Z,{filterBy:["startDate","endDate"],startDate:new Date(I),endDate:new Date(M),setStartDate:function(e){C((0,p.es)({start:e.toISOString()}))},setEndDate:function(e){C((0,p.v1)({end:e.toISOString()}))}})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)(x.Z,{filterBy:"debts"===D?["startDate","endDate","id","clientName"]:"expenses"===D?["total"]:["total","id","clientName"],filterByTotal:function(e){return _(e.value)},filterById:function(e){var t=e.target.value;xe((0,s.Z)((0,v.filter)((0,s.Z)(oe),(function(e){return e.saleconnector?e.saleconnector.id.includes(t):e.id.includes(t)})))),ie((0,n.Z)((0,n.Z)({},le),{},{id:t}))},filterByClientName:function(e){var t=e.target.value.toLowerCase();xe((0,s.Z)((0,v.filter)((0,s.Z)(oe),(function(e){return e.client&&e.client.name.toLowerCase().includes(t)})))),ie((0,n.Z)((0,n.Z)({},le),{},{client:t}))},filterByIdWhenPressEnter:Ra,filterByClientNameWhenPressEnter:Ra,startDate:wa,endDate:Ta,setStartDate:function(e){Ua(new Date(e.setHours(0,0,0)))},setEndDate:function(e){Ia(new Date(e.setHours(23,59,59)))}}),"debts"!==D&&(0,g.jsx)(m.Z,{countPage:X,currentPage:A,totalDatas:G,setCurrentPage:H})]}),(0,g.jsxs)("div",{className:"tableContainerPadding",children:[fe.length>0&&(0,g.jsx)(h.Z,{page:"sale"===D?"saleslist":D,headers:(N=D,{sale:[{title:"\u2116"},{title:(0,y.t)("Sana"),filter:"createdAt"},{title:(0,y.t)("ID"),filter:"id"},{title:(0,y.t)("Mijoz")},{title:(0,y.t)("Jami")},{title:"To'langan"},{title:(0,y.t)("Qarz")},{title:(0,y.t)("Izoh")},{title:"",styles:"w-[7rem]"}],income:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Kelgan narxi"},{title:"Sotilgan narxi"},{title:"Chegirma"},{title:"Foyda"},{title:""}],debts:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Mijoz",filter:"client"},{title:"Qarz izoh"},{title:"Jami"},{title:"Qarz"},{title:""}],expenses:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"Summa"},{title:"Izoh"},{title:"Turi"}],discounts:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Mijoz",filter:"client"},{title:"Jami"},{title:"Chegirma"}],backproducts:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Mijoz",filter:"client"},{title:"Soni"},{title:"Jami"},{title:"Qaytarilgan"},{title:""}],payments:[{title:"\u2116"},{title:"Sana",filter:"createdAt"},{title:"ID",filter:"saleconnector.id"},{title:"Mijoz"},{title:"Naqt"},{title:"Dollar"},{title:"Plastik"},{title:"O'tkazma"},{title:"Qarzdan to'lov USD"},{title:"Qarzdan to'lov UZS"},{title:"Qaytarilgan"},{title:""}]}["".concat(N)]),data:fe,currentPage:A,countPage:X,currency:Y,type:D,Pay:function(e){var t=e.debtusd||0,a=e.debtuzs||0;aa((0,o.Y2)(t)),ia(a),ze((0,o.Nt)(a,E)),Me(a),st((0,o.Y2)(t)),ua((0,o.Y2)(t)),xa(a),wt(e._id),Se(!0),mt(null===e||void 0===e?void 0:e.debtId)},reports:!0,Print:function(e){"debts"===D&&(Sa(e),ya("allChecks"),ye(!0)),"sale"===D&&(Sa(e),ya("allChecks"),ye(!0)),"backproducts"===D&&(ya("allChecks"),Sa(e),ye(!pe)),"income"===D&&(ya("allChecks"),Sa(e),ye(!pe)),"payments"===D&&(e.payment?(ya("checkSell"),Sa(e),ye(!pe),console.log("qwerty")):(ya("allChecks"),Sa(e),ye(!pe)))},Sort:function(e){if(e===Yt.filter)switch(Yt.count){case 1:Et({filter:e,sort:"1",count:2}),(0,o.ki)(fe,xe,e,1,At);break;case 2:Et({filter:e,sort:"",count:0}),(0,o.ki)(fe,xe,e,"",At);break;default:Et({filter:e,sort:"-1",count:1}),(0,o.ki)(fe,xe,e,-1,At)}else Et({filter:e,sort:"-1",count:1}),(0,o.ki)(fe,xe,e,-1,At)},sortItem:Yt,Edit:function(e,t){C((0,p.X_)({comment:e,debtid:t})),ya("debtcomment"),ye(!pe)}}),"debts"===D&&(0,g.jsxs)("ul",{className:"w-full grid grid-cols-12 tr",children:[(0,g.jsx)("li",{className:"col-span-8 ".concat(0===fe.length&&"border-t-2"," td py-[0.625rem] text-right"),children:"Jami:"}),(0,g.jsxs)("li",{className:"col-span-4 ".concat(0===fe.length&&"border-t-2"," td py-[0.625rem] font-bold"),children:[(0,s.Z)(fe).reduce((function(e,t){return e+("sum"===t.debtType&&t.debtuzs||0)}),0)," UZS ",(0,g.jsx)("br",{}),Math.round(100*(0,s.Z)(fe).reduce((function(e,t){return e+("dollar"===t.debtType&&t.debt||0)}),0))/100," USD"]})]}),"payments"===D&&(null===O||void 0===O||null===(e=O.payment)||void 0===e?void 0:e.cash)&&(0,g.jsxs)("div",{className:"flex items-center justify-between mt-6 bg-white p-2",children:[(0,g.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,g.jsx)("div",{className:"text-[18px] font-bold mb-2",children:"Tushumlar"}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Naqt:"}),(0,g.jsxs)("div",{children:["USD"===Y?(0,o.Y2)(O.payment.cash).toLocaleString("ru-RU"):(0,o.ei)(O.payment.cashuzs).toLocaleString("ru-RU")," ",Y]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Dollar:"}),(0,g.jsxs)("div",{children:[(0,o.Y2)(null===(t=O.payment)||void 0===t?void 0:t.usdpayment)," USD"]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Plastik:"}),(0,g.jsxs)("div",{children:["USD"===Y?(0,o.Y2)(O.payment.card).toLocaleString("ru-RU"):(0,o.ei)(O.payment.carduzs).toLocaleString("ru-RU")," ",Y]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"O'tkazma:"}),(0,g.jsxs)("div",{children:["USD"===Y?(0,o.Y2)(O.payment.transfer).toLocaleString("ru-RU"):(0,o.ei)(O.payment.transferuzs).toLocaleString("ru-RU")," ",Y]})]})]}),(0,g.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,g.jsx)("div",{className:"text-[18px] font-bold mb-2",children:"Qaytarilganlar"}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Naqt:"})," ",(0,g.jsxs)("span",{children:["USD"===Y?(0,o.Y2)(O.back.cash).toLocaleString("ru-RU"):(0,o.ei)(O.back.cashuzs).toLocaleString("ru-RU")," ",Y]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Dollar:"})," ",(0,g.jsxs)("span",{children:[null===O||void 0===O||null===(a=O.back)||void 0===a?void 0:a.usdpayment," USD"]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Plastik:"}),(0,g.jsxs)("span",{children:["USD"===Y?(0,o.Y2)(O.back.card).toLocaleString("ru-RU"):(0,o.ei)(O.back.carduzs).toLocaleString("ru-RU")," ",Y]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"O'tkazma:"}),(0,g.jsxs)("span",{children:["USD"===Y?(0,o.Y2)(O.back.transfer).toLocaleString("ru-RU"):(0,o.ei)(O.back.transferuzs).toLocaleString("ru-RU")," ",Y]})]})]}),(0,g.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,g.jsx)("div",{className:"text-[18px] font-bold mb-2",children:"Kassadagi qoldiq"}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Naqt:"}),(0,g.jsxs)("span",{children:["USD"===Y?(0,o.Y2)(O.result.cash).toLocaleString("ru-RU"):(0,o.ei)(O.result.cashuzs).toLocaleString("ru-RU")," ",Y]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Dollar:"}),(0,g.jsxs)("span",{children:[(0,o.Y2)(null===O||void 0===O||null===(S=O.result)||void 0===S?void 0:S.usdpayment)," USD"]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"Plastik:"}),(0,g.jsxs)("span",{children:["USD"===Y?(0,o.Y2)(O.result.card).toLocaleString("ru-RU"):(0,o.ei)(O.result.carduzs).toLocaleString("ru-RU")," ",Y]})]}),(0,g.jsxs)("div",{className:"font-semibold w-[200px] flex justify-between",children:[(0,g.jsx)("div",{children:"O'tkazma:"}),(0,g.jsxs)("span",{children:["USD"===Y?(0,o.Y2)(O.result.transfer).toLocaleString("ru-RU"):(0,o.ei)(O.result.transferuzs).toLocaleString("ru-RU")," ",Y]})]})]})]})]}),(0,g.jsx)("div",{children:(0,g.jsx)(f.Z,{returned:!0,type:De,active:ge,togglePaymentModal:Ma,changePaymentType:function(e){var t=ta-Number($e),a=la-Number(ht);if(De!==e)switch(Ce(e),e){case"cash":ze(t),Me(a),Re(""),Be(""),Fe(""),We(""),ua(t),xa(a),_t(0),Vt(0);break;case"card":Re(t),Be(a),ze(""),Me(""),Fe(""),We(""),ua(t),xa(a),_t(0),Vt(0);break;case"transfer":Fe(t),We(a),ze(""),Me(""),Re(""),Be(""),ua(t),xa(a),_t(0),Vt(0);break;default:ze(""),Me(""),Re(""),Be(""),Fe(""),We(""),ua(0),xa(0),_t(ta-Number($e)),Vt(la-Number(ht))}},onChange:function(e,t){!function(e,t){var a=Math.abs(ta),n=Math.abs(la);if("cash"===t){var s=Number(e),l=Number((0,o.Nt)(e,E));s<=n?(Me(s),ze((0,o.Y2)(l)),Vt(Oa(n-s)),ua((0,o.Y2)(l)),xa(s)):(0,b.bH)()}else if("usd"===t){var i=Number((0,o.uX)(e,E)),r=Number(e);r<=a?(_t(La(a-r)),ua((0,o.Y2)(r)),xa(i),st((0,o.Y2)(e))):(0,b.bH)()}else if("card"===t){var c=Number(e)+Number(Ie)+Number(Ke),u=Number(Ue)+Number((0,o.Nt)(e,E))+Number(Je);c<=n?(Re((0,o.Nt)(e,E)),Be(e),_t(La(a-u)),Vt(Oa(n-c)),ua((0,o.Nt)(c,E)),xa(c)):(0,b.bH)()}else{var d=Number(e)+Number(Ie)+Number(Qe),m=Number(Ue)+Number(qe)+Number((0,o.Nt)(e,E));d<=n?(Fe((0,o.Nt)(e,E)),We(e),_t(La(a-m)),Vt(Oa(n-d)),ua(m),xa(d)):(0,b.bH)()}}(e,t)},client:Pt,allPayment:ta,allPaymentUzs:la,card:"USD"===Y?qe:Qe,cash:"USD"===Y?Ue:Ie,debt:Xt,debtuzs:Gt,discount:"USD"===Y?"USD"===Lt.value?$e:vt:"UZS"===Lt.value?ht:vt,handleChangeDiscount:function(e){var t=Math.round(5*ta/100*10)/10,a=Math.round(5*la/100*10)/10;if("USD"===Lt.value)e>t?(0,b.kH)("".concat(t," USD")):(et(e),bt((0,o.uX)(e,E)),jt(Math.round(ta*e/100*10)/10),_t(ta-e),Vt((0,o.uX)(ta-e,E)));else if("UZS"===Lt.value)e>a?(0,b.kH)("".concat(a," UZS")):(bt(e),et((0,o.Nt)(e,E)),jt(Math.round(la*e/100*10)/10),_t((0,o.Nt)(la-e,E)),Vt(la-e));else if(e>5)(0,b.kH)("5%");else{var n=Math.round(ta*e/100*10)/10,s=Math.round(la*e/100*10)/10;jt(e),et(n),bt(s),_t(La(ta-n)),Vt(Oa(la-s)),ua(ta-n),xa(la-s)}ze(""),Me(""),Re(""),Be(""),Fe(""),We(""),ua(0),xa(0)},hasDiscount:Nt,transfer:"USD"===Y?Je:Ke,handleClickDiscountBtn:function(){kt(!Nt),"cash"===De?(ze(ta),Me(la),ua(ta),xa(la)):"card"===De?(Re(ta),Be(la),ua(ta),xa(la)):"transfer"===De?(Fe(ta),We(la),ua(ta),xa(la)):(ze(""),Me(""),Re(""),Be(""),Fe(""),We(""),ua(0),xa(0),_t(ta),Vt(la)),et(""),bt(""),jt("")},discountSelectOption:Lt,handleChangeDiscountSelectOption:function(e){Lt.value!==e.value&&(Ot(e),et(""),bt(""),jt(""),ze(""),Me(""),Re(""),Be(""),Fe(""),We(""),_t(ta),Vt(la),ua(0),xa(0))},paid:"USD"===Y?oa:fa,handleClickPay:function(){ya("complete"),ye(!0)},paymentUsd:nt,setPaymentUsd:st,debtType:rt,setDebtType:ct})}),(0,g.jsx)(d.Z,{body:pa,toggleModal:"sell"===pa?function(){ya(""),ye(!pe),setTimeout((function(){}),500)}:"complete"===pa?qa:"allChecks"===pa?function(){ye(!pe),ya(""),ya(null)}:"debtcomment"===pa?function(){C((0,p.X_)({comment:null,debtid:null})),ya(""),ye(!pe)}:function(){ye(!pe),ya(""),Sa(null)},approveFunction:function(){qa();var e={payment:{totalprice:Number(ta),totalpriceuzs:Number(la),type:De,cash:Number(Ue),cashuzs:Number(Ie),card:Number(qe),carduzs:Number(Qe),transfer:Number(Je),transferuzs:Number(Ke),discount:Number($e),discountuzs:Number(ht),debtType:rt,usdpayment:Number(nt)},debtId:dt,user:U._id,saleconnectorid:Zt};C((0,p.Yt)(e)).then((function(e){var t=e.payload;Sa(t),C((0,p.UO)()),setTimeout((function(){var e;ya("checkPayment"),ye(!0),ze(""),Me(""),Re(""),Be(""),Fe(""),We(""),_t(0),Vt(0),ua(0),xa(0),Tt(""),wt(null),Ma(e)}),500)}))},isOpen:pe,payment:ga,printedSelling:ga,product:ga,headers:[{title:"\u2116"},{title:"Kodi"},{title:"Nomi"},{title:"Soni"},{title:"Narxi"},{title:"Jami",styles:"w-[10rem]"},{title:""}],headerText:"complete"===pa&&"To'lovni amalga oshirishni tasdiqlaysizmi?",title:"complete"===pa&&"To'lovni amalga oshirgach bu ma`lumotlarni o'zgaritirib bo'lmaydi!"})]})}}}]);
//# sourceMappingURL=8530.f072999a.chunk.js.map