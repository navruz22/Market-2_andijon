"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8028],{6999:function(e,t,r){r.r(t);var a=r(1413),n=r(9439),i=r(2791),l=r(2987),s=r(9078),c=r(7799),o=r(9434),u=r(2972),d=r(5077),m=r(4232),g=r(1295),f=r(2230),h=r(2106),v=r(763),p=r(184);t.default=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.adminmarkets})),r=t.markets,k=t.total,Z=t.searchedMarkets,P=t.totalSearched,x=t.loadingGetMarkets,y=t.loadingDeleteMarket,S=(0,i.useState)(r),j=(0,n.Z)(S,2),w=j[0],N=j[1],D=(0,i.useState)(Z),M=(0,n.Z)(D,2),C=M[0],b=M[1],B=(0,i.useState)(k),E=(0,n.Z)(B,2),T=E[0],_=E[1],L=(0,i.useState)("10"),q=(0,n.Z)(L,2),F=q[0],I=q[1],O=(0,i.useState)(0),R=(0,n.Z)(O,2),W=R[0],z=R[1],A=(0,i.useState)(""),G=(0,n.Z)(A,2),K=G[0],V=G[1],Y=(0,i.useState)(""),H=(0,n.Z)(Y,2),J=H[0],Q=H[1],U=(0,i.useState)(!1),X=(0,n.Z)(U,2),$=X[0],ee=X[1],te=(0,i.useState)(""),re=(0,n.Z)(te,2),ae=re[0],ne=re[1],ie=(0,i.useState)(1),le=(0,n.Z)(ie,2),se=le[0],ce=le[1],oe=(0,i.useState)(!1),ue=(0,n.Z)(oe,2),de=ue[0],me=ue[1],ge=(0,i.useState)(null),fe=(0,n.Z)(ge,2),he=fe[0],ve=fe[1],pe=(0,i.useState)(""),ke=(0,n.Z)(pe,2),Ze=ke[0],Pe=ke[1],xe=(0,i.useState)(null),ye=(0,n.Z)(xe,2),Se=ye[0],je=ye[1],we=(0,i.useState)(null),Ne=(0,n.Z)(we,2),De=Ne[0],Me=Ne[1],Ce=(0,i.useState)(null),be=(0,n.Z)(Ce,2),Be=be[0],Ee=be[1],Te=function(){ee(!1),setTimeout((function(){ne(""),je(null),Me(null),Pe(""),ve(null),ce(1),me(!1)}),100)},_e=function(t){if("Enter"===t.key){z(0);var r={currentPage:0,countPage:F,search:{name:K.replace(/\s+/g," ").trim(),director:J.replace(/\s+/g," ").trim()}};e((0,u.uK)(r))}};return(0,i.useEffect)((function(){var t={currentPage:W,countPage:F,search:{name:K.replace(/\s+/g," ").trim(),director:J.replace(/\s+/g," ").trim()}};e((0,u.tn)(t))}),[e,W,F]),(0,i.useEffect)((function(){N(r)}),[r]),(0,i.useEffect)((function(){b(Z)}),[Z]),(0,i.useEffect)((function(){_(k)}),[k]),(0,p.jsxs)("section",{children:[y?(0,p.jsx)(m.Z,{}):(0,p.jsx)(f.Z,{title:"approve"===ae&&"O'chirilgan do'kon ma'lumotlarini tiklashning imkoni mavjud emas",headerText:"approve"===ae&&"Diqqat do'kon ma'lumotlarni o'chirishni tasdiqlaysizmi?",body:ae,isOpen:$,toggleModal:De||1===se?Te:function(){},addMarket:{currentStep:se,bgActive:de,handleNext:De?function(t){var r={market:(0,a.Z)((0,a.Z)({},t),{},{_id:De._id})};e((0,u.jP)(r)).then((function(t){var r=t.error,a=t.payload;if(!r){var n;ce(se+1),me(!0),Pe((null===De||void 0===De||null===(n=De.director)||void 0===n?void 0:n.image)||""),ve(a._id);var i={currentPage:W,countPage:F,search:{name:K.replace(/\s+/g," ").trim(),director:J.replace(/\s+/g," ").trim()}};e((0,u.tn)(i))}}))}:function(t){e((0,u.Ti)(t)).then((function(e){var t=e.error,r=e.payload;t||(ce(se+1),me(!0),Pe(""),ve(r._id))}))},handleFinish:De?function(t){var r=(0,a.Z)((0,a.Z)({},t),{},{image:Ze,market:he,_id:De.director._id});e((0,u.Ph)(r)).then((function(t){if(!t.error){var r={currentPage:W,countPage:F,search:{name:K.replace(/\s+/g," ").trim(),director:J.replace(/\s+/g," ").trim()}};Pe(""),ce(1),me(!1),ve(null),(0,h.Vs)(),e((0,u.tn)(r)),Te()}}))}:function(t){var r=(0,a.Z)((0,a.Z)({},t),{},{image:Ze,market:he});e((0,u.oM)(r)).then((function(t){if(!t.error){var r={currentPage:W,countPage:F,search:{name:K.replace(/\s+/g," ").trim(),director:J.replace(/\s+/g," ").trim()}};Pe(""),ce(1),me(!1),ve(null),(0,h.RF)(),e((0,u.tn)(r)),Te()}}))},image:Ze,setImage:Pe,editedMarket:De},product:Se,approveFunction:Be?function(){e((0,u.kP)({id:Be._id})).then((function(t){var r=t.error;t.payload;if(!r){var a={currentPage:W,countPage:F,search:{name:K.replace(/\s+/g," ").trim(),director:J.replace(/\s+/g," ").trim()}};Ee(null),ee(!1),ne(""),e((0,u.tn)(a))}}))}:function(){var t={currentPage:W,countPage:F,search:{name:K.replace(/\s+/g," ").trim(),director:J.replace(/\s+/g," ").trim()}};e((0,u.tn)(t)),Te()}}),(0,p.jsx)("div",{className:"mainPadding",children:(0,p.jsx)(c.Z,{text:"Yangi do'kon qo`shish",add:!0,onClick:function(){ne("addMarket"),ee(!0)}})}),(0,p.jsxs)("div",{className:"flex justify-between items-center mainPadding",children:[(0,p.jsx)("h3",{className:"text-blue-900 text-[xl] leading-[1.875rem]",children:"Do'konlar"}),(0!==T||0!==P)&&(0,p.jsx)(d.Z,{countPage:Number(F),totalDatas:P||T,currentPage:W,setCurrentPage:z})]}),(0,p.jsx)(l.Z,{filterBy:["total","marketName","directorName"],filterByMarketName:function(t){var a=t.target.value,n=a.toLowerCase().replace(/\s+/g," ").trim();if(V(a),(C.length>0||P>0)&&e((0,u.hs)()),""===n)N(r),_(k);else{var i=(0,v.filter)(r,(function(e){return e.name.toLowerCase().includes(n)}));N(i),_(i.length)}},filterByDirectorName:function(t){var a=t.target.value,n=a.toLowerCase().replace(/\s+/g," ").trim();if(Q(a),(C.length>0||P>0)&&e((0,u.hs)()),""===n)N(r),_(k);else{var i=(0,v.filter)(r,(function(e){return e.director.firstname.toLowerCase().includes(n)||e.director.lastname.toLowerCase().includes(n)}));N(i),_(i.length)}},searchByDirectorName:J,searchByMarketName:K,filterByDirectorNameWhenPressEnter:_e,filterByMarketNameWhenPressEnter:_e,filterByTotal:function(e){var t=e.value;I(t),z(0)}}),(0,p.jsx)("div",{className:"tableContainerPadding",children:x?(0,p.jsx)(m.Z,{}):0===w.length&&0===C.length?(0,p.jsx)(g.Z,{text:"Do'konlar mavjud emas"}):(0,p.jsx)(s.Z,{page:"adminProduct",data:C.length>0?C:w,headers:[{title:"\u2116",styles:"text-center"},{title:"Logotip",styles:"w-[4.25rem]"},{title:"Do'kon nomi",styles:"text-center"},{title:"Director",styles:"text-center"},{title:"Telefon",styles:"w-[7.875rem]"},{title:"Turi",styles:"text-center w-[3.1875rem]"},{title:"",styles:"w-[3rem]"},{title:"Delete",styles:"w-[3rem]"}],currentPage:W,countPage:F,onClickTableRow:function(e){je(e),ne("filterBranch"),ee(!0)},Edit:function(e){Me(e),Pe(null!==e&&void 0!==e&&e.image?null===e||void 0===e?void 0:e.image:""),ne("addMarket"),ee(!0)},handleDelete:function(e){Ee(e),ne("approve"),ee(!0)}})})]})}}}]);
//# sourceMappingURL=8028.5e136a31.chunk.js.map