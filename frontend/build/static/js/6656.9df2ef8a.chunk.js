"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6656],{7667:function(e,t,a){a(2791);var n=a(1087),r=a(71),s=a(184);t.Z=function(e){var t=e.link;return(0,s.jsx)(n.rU,{to:t,className:"linktoback",children:(0,s.jsx)(r.dUf,{})})}},5692:function(e,t,a){a.d(t,{Z:function(){return j}});var n=a(71),r=(a(2791),a(184)),s=function(e){var t=e.onClick,a=e.text,s=e.type,l=e.active,o={cash:(0,r.jsx)(n.OR0,{className:"paymentsstyle",size:"1.3125rem"}),card:(0,r.jsx)(n.RjO,{className:"paymentsstyle",size:"1.3125rem"}),transfer:(0,r.jsx)(n.g2P,{className:"paymentsstyle",size:"1.3125rem"}),mixed:(0,r.jsx)(n.qTT,{className:"paymentsstyle",size:"1.3125rem"})};return(0,r.jsxs)("button",{onClick:function(){return t(s)},className:"salestyle ".concat(l?"bg-primary-700 text-white-900":"bg-[#E9ECEB]"),children:[o[s],a]})},l=function(e){var t=e.onClick,a=e.text,s=e.onDoubleClick;return(0,r.jsxs)("button",{onClick:t,onDoubleClick:s,className:"paymentstyle grow",children:[(0,r.jsx)(n.Q84,{className:"paystyle",size:"1.3125rem"}),a]})},o=a(9434),i=a(7146),u=a(1413),c=a(1188),m=function(e){return(0,r.jsx)(c.c.DropdownIndicator,(0,u.Z)((0,u.Z)({},e),{},{children:(0,r.jsx)(n.lmx,{size:"0.625rem"})}))},d={control:function(e){return(0,u.Z)((0,u.Z)({},e),{},{borderTopRightRadius:".125rem",borderBottomRightRadius:".125rem",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",fontSize:"0.75rem",fontWeight:"400",padding:"0.375rem 0.3125rem",color:"#071F45",outline:"none",border:"none",boxShadow:"none",cursor:"pointer",height:"100%",backgroundColor:"#F79009",minHeight:"100%","&:hover":{backgroundColor:"#DC6803"}})},container:function(e){return(0,u.Z)((0,u.Z)({},e),{},{height:"100%",position:"absolute",right:0,width:"3rem",top:0,bottom:0})},option:function(e,t){var a=t.isFocused,n=t.isSelected;return(0,u.Z)((0,u.Z)({},e),{},{fontSize:".75rem",fontWeight:"400",color:n||a?"#ffffff":"#071F45",backgroundColor:n?"#0090A3":a?"#00B4CC":"#ffffff",transition:"all 0.2s ease",overflow:"hidden",cursor:"pointer",textAlign:"center"})},menu:function(e){return(0,u.Z)((0,u.Z)({},e),{},{overflow:"hidden"})},singleValue:function(e){return(0,u.Z)((0,u.Z)({},e),{},{fontSize:".75rem",fontWeight:"400",color:"#ffffff",margin:0,textAlign:"center"})},valueContainer:function(e){return(0,u.Z)((0,u.Z)({},e),{},{padding:0})},indicatorsContainer:function(e){return(0,u.Z)({},e)},dropdownIndicator:function(e){return(0,u.Z)((0,u.Z)({},e),{},{padding:0,color:"#ffffff"})}};var h=function(e){var t=e.value,a=e.onChange,n=e.option,s=e.onSelect,l=(0,o.v9)((function(e){return e.currency})).currencyType,u=[{value:l,label:l},{value:"%",label:"%"}];return(0,r.jsxs)("div",{className:"flex w-[11.75rem] border border-warning-500 rounded-[0.25rem] outline outline-transparent outline-0 focus-within:outline-2 focus-within:outline-warning-500 transition-all ease-in-out duration-100 relative",children:[(0,r.jsx)("input",{className:"w-[8.6875rem] placeholder-blue-200 py-[0.3125rem] px-[.3125rem] rounded-l-[0.25rem] outline-0 text-sm text-right transition-all ease-in-out duration-100",placeholder:"misol: 100 000 000",type:"number",value:t,onChange:function(e){a(e.target.value)},onWheel:function(e){return e.target.blur()},min:0}),"/>",(0,r.jsx)(i.ZP,{onChange:s,styles:d,isSearchable:!1,value:n,options:u,components:{IndicatorSeparator:function(){return null},DropdownIndicator:m}})]})},b=function(e){var t=e.value,a=e.onChange,n=e.option,s=e.onSelect;return(0,r.jsxs)("div",{className:"flex justify-between w-full items-center mb-[1rem]",children:[(0,r.jsx)("div",{className:"text-black-700 text-[0.875rem]",children:"Chegirma :"}),(0,r.jsx)(h,{onChange:a,onSelect:s,value:t,option:n})]})},x=a(4952),f=function(e){var t=e.onClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{onClick:t,className:"exitbtn",children:(0,r.jsx)(n.Lp2,{size:"0.75rem"})})})};var p=function(e){var t=e.mix,a=e.value,n=e.onChange,s=e.label,l=e.onClose,o=e.keyInput,i=e.placeholder,u=e.type;return(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[s," :"]}),(0,r.jsxs)("div",{className:"flex items-center w-[11.75rem] gap-[0.625rem]",children:[(0,r.jsx)(x.Z,{placeholder:i||"misol: 100 000 000",type:u||"number",value:a,onChange:function(e){n(e.target.value,o)}}),t&&(0,r.jsx)(f,{onClick:function(){return l(o)}})]})]})},y=a(8825),g=a(7689),N=a(2932),v=a(7584);var j=function(e){var t=e.returned,a=e.active,i=e.togglePaymentModal,u=e.type,c=void 0===u?"cash":u,m=e.cash,d=void 0===m?"":m,h=e.card,x=void 0===h?"":h,f=e.transfer,j=void 0===f?"":f,C=e.discount,k=e.hasDiscount,S=e.debt,Z=e.allPayment,D=e.allPaymentUzs,w=e.paid,z=void 0===w?0:w,P=e.client,U=void 0===P?"":P,T=e.onChange,I=e.onClose,q=e.changePaymentType,O=e.discountSelectOption,M=(e.handleClickDiscountBtn,e.handleChangeDiscountSelectOption),F=e.handleChangeDiscount,H=(e.exchangerate,e.handleClickPay),R=e.saleComment,B=e.changeComment,Q=e.onDoubleClick,E=e.paymentUsd,X=void 0===E?"":E,Y=e.debtuzs,A=e.debtType,L=e.setDebtType,W=(0,g.TH)(),V=function(){switch(c){case"card":return(0,r.jsx)(p,{value:x,keyInput:c,onChange:T,onClose:I,label:(0,y.t)("Plastik")},"sale-card1");case"transfer":return(0,r.jsx)(p,{value:j,keyInput:c,onChange:T,onClose:I,label:(0,y.t)("O`tkazma")},"sale-transfer");case"mixed":return[{label:(0,y.t)("Naqd"),key:"cash",value:d},{label:(0,y.t)("Plastik"),key:"card",value:x},{label:(0,y.t)("O`tkazma"),key:"transfer",value:j}].map((function(e){return(0,r.jsx)(p,{value:e.value,keyInput:e.key,onChange:T,onClose:I,label:(0,y.t)(e.label)},"sale-".concat(e.key))}));default:return W.pathname.includes("/kassa/debts")?"sum"===A?(0,r.jsx)(p,{value:d,onChange:T,keyInput:c,onClose:I,label:(0,y.t)("Naqd")},"sale-cash"):(0,r.jsx)(p,{value:X,onChange:T,keyInput:"usd",onClose:I,label:(0,y.t)("USD")},"sale-usd"):(0,r.jsxs)(r.Fragment,{children:["mixed"!==c&&(0,r.jsx)(p,{value:X,onChange:T,keyInput:"usd",onClose:I,label:(0,y.t)("USD")},"sale-usd"),(0,r.jsx)(p,{value:d,onChange:T,keyInput:c,onClose:I,label:(0,y.t)("Naqd")},"sale-cash")]})}},_=(0,o.v9)((function(e){return e.currency})).currencyType;return(0,r.jsxs)("section",{className:"absolute transition-all left-0 top-0 right-0 bottom-0 overflow-hidden duration-200 ease-out bg-black-300 backdrop-blur-[3px] z-20 ".concat(a?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:i,children:[(0,r.jsx)("h3",{className:"text-white-900 text-lg leading-[1.875rem absolute top-[50%] left-[35%] -translate-x-[50%]",children:(0,y.t)("Oynani yopish uchun bu yerga bosing !")}),(0,r.jsxs)("div",{className:"customerPay-head-style transition-all duration-200 ease-linear h-full overflow-auto absolute top-0 bottom-0 right-0 ".concat(a?"translate-x-0":"translate-x-full"),onClick:function(e){return e.stopPropagation()},autoFocus:!0,children:[(0,r.jsxs)("div",{className:"top-payment w-full",children:[U&&(0,r.jsxs)("div",{className:"customer-head-icon",children:[(0,r.jsxs)("div",{className:"flex items-center custom-payment-text-style",children:[(0,r.jsx)(n.J4e,{className:"mr-[0.75rem]"}),(0,r.jsxs)("span",{children:[(0,y.t)("Mijoz")," : "]})]}),(0,r.jsx)("h3",{className:"text-[0.875rem]",children:U})]}),(0,r.jsx)("div",{className:"mb-[1.25rem] font-medium text-[1.25rem] text-center leading-[23.44px]",children:W.pathname.includes("/kassa/debts")&&"dollar"===A?Z+" USD":D+" UZS"}),(0,r.jsxs)("ul",{className:"w-full pb-[1.25rem]",children:[!t&&V(),(W.pathname.includes("/kassa/debts")||W.pathname.includes("/qarzdorlar")||W.pathname.includes("/maxsulotlar/qabul/qabulqilish")||W.pathname.includes("/maxsulotlar/qabul/qabullar"))&&V(),(0,r.jsx)(p,{value:R,keyInput:c,onChange:B,onClose:I,label:(0,y.t)("Izoh"),placeholder:(0,y.t)("misol: qarzga olindi"),type:"text"},"sale-card"),k&&(0,r.jsx)(b,{value:C,onChange:F,option:O,onSelect:M}),W.pathname.includes("/kassa/debts")?"sum"===A?(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[(0,y.t)("Qarzlar")," :"," "]}),(0,r.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[Y," UZS"]})]}):(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[(0,y.t)("Qarzlar")," :"," "]}),(0,r.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[(0,v.Y2)(S)," USD ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})]}):(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[(0,y.t)("Qarzlar")," :"," "]}),(0,r.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[(0,v.Y2)(S)," USD ",(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),Y," UZS"]})]}),(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[(0,y.t)("Qarz")," :"," "]}),(0,r.jsxs)("h3",{className:"text-error-500 text-[1rem] flex items-center gap-2",children:[(0,r.jsx)(N.Z,{id:"debt",onChange:function(){return L("dollar")},value:"dollar"===A,label:(0,y.t)("USD")}),(0,r.jsx)(N.Z,{id:"debt2",onChange:function(){return L("sum")},value:"sum"===A,label:(0,y.t)("UZS")})]})]}),(0,r.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,r.jsxs)("span",{className:"custom-payment-text-style",children:[Z<0?(0,y.t)("Qaytarilayotgan"):(0,y.t)("To`lanayotgan")," ",":"," "]}),(0,r.jsxs)("h3",{className:"text-[1rem] text-loginButton",children:[z.toLocaleString("ru-Ru")," ",_]})]})]})]}),(0,r.jsxs)("div",{className:"bottom-payment w-full flex flex-col gap-[1.25rem] border-t-[1px] border-black-200 pt-[1.25rem]",children:[(0,r.jsxs)("div",{className:"custom-paymet-btn",children:[(0,r.jsx)(s,{text:(0,y.t)("Naqd"),type:"cash",active:"cash"===c,onClick:q}),(0,r.jsx)(s,{text:(0,y.t)("Plastik"),type:"card",active:"card"===c,onClick:q}),(0,r.jsx)(s,{text:(0,y.t)("O'tkazma"),type:"transfer",active:"transfer"===c,onClick:q}),!t&&(0,r.jsx)(s,{text:(0,y.t)("Aralash"),type:"mixed",active:"mixed"===c,onClick:q})]}),(0,r.jsx)(l,{text:(0,y.t)("To'lash"),onClick:H,onDoubleClick:Q})]})]})]})}},889:function(e,t,a){a.r(t);var n=a(9439),r=a(2791),s=a(9434),l=a(7689),o=a(7584),i=a(7667),u=a(2230),c=a(5077),m=a(5692),d=a(2987),h=a(9078),b=a(2106),x=a(5121),f=a(8348),p=a(184);t.default=function(){var e=(0,l.UO)().id,t=(0,s.I0)(),a=(0,s.v9)((function(e){return e.login})).user,y=(0,s.v9)((function(e){return e.currency})),g=y.currencyType,N=y.currency,v=(0,s.v9)((function(e){return e.suppliers})),j=v.incomingconnectors,C=v.connectorscount,k=(0,r.useState)([]),S=(0,n.Z)(k,2),Z=S[0],D=S[1],w=(0,r.useState)(0),z=(0,n.Z)(w,2),P=z[0],U=z[1],T=(0,r.useState)(10),I=(0,n.Z)(T,2),q=I[0],O=I[1],M=(0,r.useState)(new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString()),F=(0,n.Z)(M,2),H=F[0],R=F[1],B=(0,r.useState)(new Date((new Date).setHours(23,59,59,0)).toISOString()),Q=(0,n.Z)(B,2),E=Q[0],X=Q[1],Y=(0,r.useState)(!1),A=(0,n.Z)(Y,2),L=A[0],W=A[1],V=(0,r.useState)("cash"),_=(0,n.Z)(V,2),J=_[0],G=_[1],K=(0,r.useState)(""),$=(0,n.Z)(K,2),ee=$[0],te=$[1],ae=(0,r.useState)(""),ne=(0,n.Z)(ae,2),re=ne[0],se=ne[1],le=(0,r.useState)(""),oe=(0,n.Z)(le,2),ie=oe[0],ue=oe[1],ce=(0,r.useState)(""),me=(0,n.Z)(ce,2),de=me[0],he=me[1],be=(0,r.useState)(""),xe=(0,n.Z)(be,2),fe=xe[0],pe=xe[1],ye=(0,r.useState)(""),ge=(0,n.Z)(ye,2),Ne=ge[0],ve=ge[1],je=(0,r.useState)(0),Ce=(0,n.Z)(je,2),ke=Ce[0],Se=Ce[1],Ze=(0,r.useState)(0),De=(0,n.Z)(Ze,2),we=De[0],ze=De[1],Pe=(0,r.useState)(0),Ue=(0,n.Z)(Pe,2),Te=Ue[0],Ie=Ue[1],qe=(0,r.useState)(0),Oe=(0,n.Z)(qe,2),Me=Oe[0],Fe=Oe[1],He=(0,r.useState)(0),Re=(0,n.Z)(He,2),Be=Re[0],Qe=Re[1],Ee=(0,r.useState)(0),Xe=(0,n.Z)(Ee,2),Ye=Xe[0],Ae=Xe[1],Le=(0,r.useState)("approve"),We=(0,n.Z)(Le,2),Ve=We[0],_e=We[1],Je=(0,r.useState)(!1),Ge=(0,n.Z)(Je,2),Ke=Ge[0],$e=Ge[1],et=(0,r.useState)(N),tt=(0,n.Z)(et,2),at=tt[0],nt=tt[1],rt=(0,r.useState)(""),st=(0,n.Z)(rt,2),lt=st[0],ot=st[1],it=(0,r.useState)(""),ut=(0,n.Z)(it,2),ct=ut[0],mt=ut[1],dt=null,ht=function(e){return Math.round(1e3*e)/1e3},bt=function(e){return Math.round(e)},xt=function(e){W(e?!L:e),G("cash"),Se(0),ze(0)},ft=function(e,t){var a=Math.abs(Te),n=Math.abs(Me);if("USD"===g)if("cash"===t){var r=Number(e)+Number(ie)+Number(fe),s=Number((0,o.uX)(e,at))+Number(de)+Number(Ne);r<=a?(te(e),se((0,o.uX)(e,at)),Se(ht(a-r)),ze(bt(n-s)),Qe(r),Ae(s)):(0,b.bH)()}else if("card"===t){var l=Number(e)+Number(ee)+Number(fe),i=Number(re)+Number((0,o.uX)(e,at))+Number(Ne);l<=a?(ue(e),he((0,o.uX)(e,at)),Se(ht(a-l)),ze(bt(n-i)),Qe(l),Ae(i)):(0,b.bH)()}else{var u=Number(e)+Number(ee)+Number(ie),c=Number(re)+Number(de)+Number((0,o.uX)(e,at));u<=a?(pe(e),ve((0,o.uX)(e,at)),Se(ht(a-u)),ze(bt(n-c)),Qe(u),Ae(c)):(0,b.bH)()}else if("cash"===t){var m=Number(e)+Number(de)+Number(Ne),d=Number((0,o.Nt)(e,at))+Number(ie)+Number(fe);m<=n?(se(e),te((0,o.Nt)(e,at)),Se(ht(a-d)),ze(bt(n-m)),Qe(d),Ae(m)):(0,b.bH)()}else if("card"===t){var h=Number(e)+Number(re)+Number(Ne),x=Number(ee)+Number((0,o.Nt)(e,at))+Number(fe);h<=n?(ue((0,o.Nt)(e,at)),he(e),Se(ht(a-x)),ze(bt(n-h)),Qe((0,o.Nt)(h,at)),Ae(h)):(0,b.bH)()}else{var f=Number(e)+Number(re)+Number(de),p=Number(ee)+Number(ie)+Number((0,o.Nt)(e,at));f<=n?(pe((0,o.Nt)(e,at)),ve(e),Se(ht(a-p)),ze(bt(n-f)),Qe(p),Ae(f)):(0,b.bH)()}},pt=function(){var n=function(e){return e<0&&e||-1*e},r={payment:{payment:Number(Te<0?n(ee):ee)+Number(Te<0?n(ie):ie)+Number(Te<0?n(fe):fe),paymentuzs:Number(Te<0?n(re):re)+Number(Te<0?n(de):de)+Number(Te<0?fe<0&&n(Ne):Ne),type:J,cash:Number(Te<0?n(ee):ee),cashuzs:Number(Me<0?n(re):re),card:Number(Te<0?n(ie):ie),carduzs:Number(Te<0?n(de):de),transfer:Number(Te<0?n(fe):fe),transferuzs:Number(Te<0?n(Ne):Ne),comment:lt},user:a._id,incomingconnectorid:ct};t((0,x.Yt)(r)).then((function(a){a.error||(t((0,f.YO)({supplierid:e,startDate:H,endDate:E,currentPage:P,countPage:q})),$e(!1),_e(""),xt())}))};(0,r.useEffect)((function(){var a={supplierid:e,startDate:H,endDate:E,currentPage:P,countPage:q};t((0,f.YO)(a))}),[t,H,E,P,q,e]),(0,r.useEffect)((function(){D(j)}),[j]);return(0,p.jsxs)("div",{className:"relative grow overflow-hidden h-full",children:[(0,p.jsx)("div",{className:"mainPadding",children:(0,p.jsx)(i.Z,{link:"/hamkorlar/yetkazuvchilar"})}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(d.Z,{filterBy:["total","startDate","endDate"],filterByTotal:function(e){return O(e.value)},startDate:new Date(H),endDate:new Date(E),setStartDate:R,setEndDate:X}),(0,p.jsx)(c.Z,{currentPage:P,setCurrentPage:U,countPage:q,totalDatas:C||1})]}),(0,p.jsx)("div",{className:"tableContainerPadding",children:Z.length>0&&(0,p.jsx)(h.Z,{page:"incomingsupplier",currentPage:P,countPage:q,currency:g,headers:[{title:"\u2116"},{title:"Sana"},{title:"Vaqti"},{title:"ID"},{title:"Mahsulot turi"},{title:"Soni"},{title:"Umumiy"},{title:"To'langan"},{title:"Qarz"},{title:""}],data:Z,Pay:function(e){var t=e.debt,a=e.debtuzs;mt(e._id),Ie(t),Fe(a),te(t),se(a),Qe(t),Ae(a),W(!0),nt(bt(a/t)),W(!0)}})}),(0,p.jsx)(m.Z,{returned:!0,type:J,active:L,togglePaymentModal:xt,changePaymentType:function(e){if(J!==e)switch(G(e),e){case"cash":te(Te),se(Me),ue(""),he(""),pe(""),ve(""),Qe(Te),Ae(Me),Se(0),ze(0);break;case"card":ue(Te),he(Me),te(""),se(""),pe(""),ve(""),Qe(Te),Ae(Me),Se(0),ze(0);break;case"transfer":pe(Te),ve(Me),te(""),se(""),ue(""),he(""),Qe(Te),Ae(Me),Se(0),ze(0);break;default:te(""),se(""),ue(""),he(""),pe(""),ve(""),Qe(0),Ae(0),Se(Te),ze(Me)}},onChange:function(e,t){ft(e,t)},allPayment:"USD"===g?Te:Me,card:"USD"===g?ie:de,cash:"USD"===g?ee:re,debt:"USD"===g?ke:we,hasDiscount:!1,transfer:"USD"===g?fe:Ne,paid:"USD"===g?Be:Ye,handleClickPay:function(){null===dt&&(dt=window.setTimeout((function(){dt=null,_e("complete"),$e(!0)}),300))},changeComment:function(e){ot(e)},saleComment:lt,onDoubleClick:function(){window.clearTimeout(dt),dt=null,pt()}}),(0,p.jsx)(u.Z,{body:Ve,isOpen:Ke,headerText:"To'lovni amalga oshirishni tasdiqlaysizmi ?",title:"To'lovni amalga oshirgach bu ma`lumotlarni o`zgaritirb bo`lmaydi !",approveFunction:pt,toggleModal:function(){$e(!Ke),setTimeout((function(){_e("")}),500)}})]})}}}]);
//# sourceMappingURL=6656.9df2ef8a.chunk.js.map