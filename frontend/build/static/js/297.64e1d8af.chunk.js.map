{"version":3,"file":"static/js/297.64e1d8af.chunk.js","mappings":"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","sources":["Components/LinkToBack/LinkToBack.js","Components/NotFind/NotFind.js","Components/Spinner/SmallLoader.js","Pages/CategoryReport/CategoryReport.js"],"sourcesContent":["import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {IoChevronBack} from 'react-icons/io5'\r\n\r\nconst LinkToBack = ({link}) => {\r\n    return (\r\n        <Link to={link} className='linktoback'>\r\n            <IoChevronBack />\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default LinkToBack\r\n","import React from 'react'\r\n\r\nfunction NotFind({text}) {\r\n    return (\r\n        <div className={'text-center py-10'}>\r\n            <h3 className={'text-black-300 text-[xl] leading-[1.875rem]'}>\r\n                {text}...\r\n            </h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFind","function SmallLoader() {\r\n    return (\r\n        <div className={'flex items-center justify-center mt-14'}>\r\n            <div className='clock-loader'></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SmallLoader\r\n","import React, { useEffect } from 'react'\r\nimport { useLocation, useNavigate, useParams } from 'react-router-dom'\r\nimport LinkToBack from '../../Components/LinkToBack/LinkToBack.js'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getReportOfCategory } from './CategoryReportSlice.js'\r\nimport Table from '../../Components/Table/Table.js'\r\nimport Spinner from '../../Components/Spinner/SmallLoader.js'\r\nimport NotFind from '../../Components/NotFind/NotFind.js'\r\nimport { reduce } from 'lodash'\r\nimport { roundUsd, roundUzs } from '../../App/globalFunctions.js'\r\n\r\nconst calculateTotal = (data) => {\r\n    return reduce(data, (sum, item) => {\r\n        return sum + item.total\r\n    }, 0)\r\n}\r\nconst calculateIncomings = (data, currency) => {\r\n    if (currency === 'UZS') {\r\n        return reduce(data, (sum, item) => {\r\n            return sum + roundUzs(Number(item.price.incomingpriceuzs) * item.total)\r\n        }, 0).toLocaleString('ru-RU')\r\n    } else {\r\n        return reduce(data, (sum, item) => {\r\n            return sum + roundUsd(item.price.incomingprice * item.total)\r\n        }, 0).toLocaleString('ru-RU')\r\n    }\r\n}\r\nconst calculateSellings = (data, currency) => {\r\n    if (currency === 'UZS') {\r\n        return reduce(data, (sum, item) => {\r\n            return sum + roundUzs(item.price.sellingpriceuzs * item.total)\r\n        }, 0).toLocaleString('ru-RU')\r\n    } else {\r\n        return reduce(data, (sum, item) => {\r\n            return sum + roundUsd(item.price.sellingprice * item.total)\r\n        }, 0).toLocaleString('ru-RU')\r\n    }\r\n}\r\n\r\nfunction CategoryReport() {\r\n    const headers = [\r\n        { title: 'â„–' }, \r\n        { title: 'Kodi' }, \r\n        { title: 'Nomi' }, \r\n        { title: 'Soni' }, \r\n        { title: 'Olish ' }, \r\n        { title: 'Sotish' }, \r\n        { title: 'Sotilganlar soni' }, \r\n        { title: 'Sotilganlar jami' }]\r\n    const dispatch = useDispatch()\r\n    const location = useLocation()\r\n    const navigate = useNavigate()\r\n    const { code } = useParams()\r\n    const { products, loading } = useSelector(state => state.categoryReport)\r\n    useEffect(() => {\r\n        if (location.state) {\r\n            dispatch(getReportOfCategory({ categoryId: location.state.id, startDate: location.state.startDate, endDate: location.state.endDate  }))\r\n        } else {\r\n            navigate(-1)\r\n        }\r\n    }, [dispatch, location.state, navigate])\r\n    return (\r\n        <section>\r\n            <div className={'mainPadding flex items-center justify-between pt-12'}>\r\n                <LinkToBack link={-1} />\r\n                <h2 className={'text-base text-black-700'}><span\r\n                    className={'font-medium text-xl text-blue-400'}>{code} {location?.state?.name && `- ${location?.state?.name}`}</span> -\r\n                    kategoriya\r\n                    bo'yicha hisobot</h2>\r\n            </div>\r\n            <div className={'tableContainerPadding'}>\r\n                {\r\n                    loading ? <Spinner /> : products.length > 0 ? <Table\r\n                        page={'categoryreport'}\r\n                        headers={headers}\r\n                        data={products}\r\n                    /> : <NotFind text={'Maxsulot topilmadi d...'} />\r\n                }\r\n            </div>\r\n            <div className={'pl-[2.5rem] pr-[1.25rem] flex items-center justify-end gap-[1rem]'}>\r\n                <p className={'font-medium'}>Jami :</p>\r\n                <ul className={'flex justify-end gap-[1rem]'}>\r\n                    <li className={'text-sm flex items-center gap-[0.5rem]'}>\r\n                        <div className={'w-[0.5rem] h-[0.5rem] rounded-full bg-primary-700'}></div>\r\n                        <span className={'font-medium'}>{products.length} ta maxsulot</span>\r\n                    </li>\r\n                    <li className={'text-sm flex items-center gap-[0.5rem]'}>\r\n                        <div className={'w-[0.5rem] h-[0.5rem] rounded-full bg-warning-400'}></div>\r\n                        <span className={'font-medium'}>Soni: {calculateTotal(products)}</span>\r\n                    </li>\r\n                    <li className={'text-sm flex items-center gap-[0.5rem]'}>\r\n                        <div className={'w-[0.5rem] h-[0.5rem] rounded-full bg-blue-400'}></div>\r\n                        <span className={'font-medium'}>Olish : {calculateIncomings(products, 'UZS')} UZS {' / '} {calculateIncomings(products, 'USD')} USD</span>\r\n                    </li>\r\n                    <li className={'text-sm flex items-center gap-[0.5rem]'}>\r\n                        <div className={'w-[0.5rem] h-[0.5rem] rounded-full bg-success-400'}></div>\r\n                        <span className={'font-medium'}>Sotish : {calculateSellings(products, 'UZS')} UZS {' / '} {calculateSellings(products, 'USD')} USD</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default CategoryReport"],"names":["_ref","link","_jsx","Link","to","className","children","IoChevronBack","text","_jsxs","calculateIncomings","data","currency","reduce","sum","item","roundUzs","Number","price","incomingpriceuzs","total","toLocaleString","roundUsd","incomingprice","calculateSellings","sellingpriceuzs","sellingprice","_location$state","_location$state2","dispatch","useDispatch","location","useLocation","navigate","useNavigate","code","useParams","_useSelector","useSelector","state","categoryReport","products","loading","useEffect","getReportOfCategory","categoryId","id","startDate","endDate","LinkToBack","name","concat","Spinner","length","Table","page","headers","title","NotFind"],"sourceRoot":""}